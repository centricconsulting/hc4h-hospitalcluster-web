(function(){ovi.provide("nokia.maps.dom._extractCDATA");nokia.maps.dom.mo=function(h,g){var f,c,a,j;typeof h==="string"&&(h=UIComponent.findElement(h));if(h&&h.nodeType===1){f=h.getElementsByTagName("script");for(c=f.length||0;c--;)(a=f[c]).type==="CDATA"&&(j=/^\s*<!\[CDATA\[\s*([\s\S]*)\s*\]\]>\s*$/.exec(a.text))&&(j=j[1])&&g(a,j,a.getAttribute("charset")||""+c)}};ovi.provide("nokia.maps.util.proto");
(function(){var h={}.toString,g=nokia.maps.util.proto=function(f,c,a,j){var b=Function(),e,l;b.prototype=c;b=new b;for(e in f)f.hasOwnProperty(e)&&(b[e]=a&&e in c&&h.call(l=f[e])==="[object Object]"?g(l,c[e],a):f[e]);if(a&&!j)for(e in c)if(c.hasOwnProperty(e)&&(l=c[e])===b[e]&&h.call(l)==="[object Object]")b[e]=g(0,l,a);return b}})();ovi.provide("nokia.maps.ui.nokia_generic.SpaceManager");
(function(h){var g={},f=h.ui.nokia_generic.SpaceManager=new ovi.Class({initialize:function(c){this.vb=c;this.Ta=ovi.bind(this,this.Ta);c.addListener("resizeend",this.Ta)},vb:null,ds:0,cs:0,fb:{},Statics:{getSpaceManager:function(c){g[c.d]||(g[c.d]=new f(c));return g[c.d]}},registerSpace:function(c,a,f,b,e){this.fb[c]||(this.fb[c]={});this.fb[c][a]={topLeft:f,bottomRight:b,flexible:e||!1}},setActiveState:function(c,a){for(var f in this.fb[c])if(this.fb[c][f].active)this.fb[c][f].active=!1,delete this.fb[c][f].active;
this.fb[c]&&this.fb[c][a]&&(this.fb[c][a].active=!0)},removeComponent:function(c){delete this.fb[c]},getDimensionsFor:function(c,a){return a?this.fb[c][a]:this.fb[c]},isSpaceFor:function(){},Ta:function(){this.ds=this.vb.o.offsetWidth;this.cs=this.vb.o.offsetHeight}})})(nokia.maps);ovi.provide("nokia.maps.util.ObjectFormatter");
(function(h){var g=/\[\[([^\]]+)\]\]/gi,f=/\{\{([^\}]+)\}\}/gi;h.ObjectFormatter=new ovi.Class({format:function(c,a,f){var b=a.match(g),e,h=0,d;if(b)for(d=b.length;h<d;h++)e=b[h].replace(g,"$1"),valueString=this.Yh(e,c,f,!0),a=a.replace(b[h],valueString);return a=this.Yh(a,c,f)},Yh:function(c,a,g,b){var e=h.Om,l=c.match(f),d=!0,n,k=0,m;if(l)for(m=l.length;k<m;k++)n=l[k].replace(f,"$1"),n=g&&g[n]||e(n,a)||"",n=this.Mk(n),n.length>0&&(d=!1),c=c.replace(l[k],n!=null?n:"");return b&&d?"":c},Mk:function(c){var a=
"",f=typeof c;switch(f){case "object":case "undefined":case "function":a=f;break;case "string":a=c;break;case "number":case "boolean":a+=c}return a}})})(nokia.maps.util);ovi.provide("nokia.maps.ui.nokia_generic.ColorSet");(function(h){var g="background border stroke fill text".split(" "),f=h.util.proto,c=h.ui.nokia_generic.ColorSet=function(h,b){var e;if(a)return f(h,b?b instanceof c?b:f(b,a):a);for(e=g.length;e--;)this[g[e]]="#F60"},a=c.Jq=new c})(nokia.maps);ovi.provide("nokia.maps.ui.nokia_generic.ColorScheme");
(function(h){var g=h.ui.nokia_generic,f="normal disable focus active".split(" "),c=nokia.maps.util.proto,a=g.ColorScheme=function(b,e){var h;if(j)return c(b,e?e instanceof a?e:c(e,j,!0):j,!0);for(h=f.length;h--;)this[f[h]]=g.ColorSet.Jq},j=new a})(nokia.maps);ovi.provide("nokia.maps.ui.nokia_generic.UIScaler");
(function(h){h.ui.nokia_generic.UIScaler=ovi.Class({Extends:h.util.OObject,ID_TESTNODE:"ovi_ppitest",scaleFactor:0,rp:{},rescale:function(g){if(this.scaleFactor!==0)return this.scaleFactor;var f=this.scaleFactor;this.rp=g;this.Gs(g);g.parentNode.style.fontSize="10px";this.isMobile()?(g="http://10.225.86.65/rest/deviceinfo?useragent="+navigator.userAgent+"&format=jsonp",(new h.net.Request(1,{callbackKey:"callback"})).send(g,ovi.bind(this,this.dcsResponse))):(f=Math.round(34)/34,this.set("scaleFactor",
f))},dcsResponse:function(g){var f=1,f=0,c=g.response;if(c&&!g.error&&(g=c.DeviceCompatibilityService&&c.DeviceCompatibilityService.DeviceInfoResponse&&c.DeviceCompatibilityService.DeviceInfoResponse.Characteristics?c.DeviceCompatibilityService.DeviceInfoResponse.Characteristics:null,!g||!(f=g["display.dpi"])))g&&(f=this.areaComparison(g));f=Math.round(34*((f||165)/96))/34;this.set("scaleFactor",f)},areaComparison:function(g){try{var f=g["display.size"]||g["display.size.inches"]||(g["display.size.cms"]?
this.mmToInch(g["display.size.cms"]*100):!1),c=g["dimension.length"]-0,a=g["dimension.width"]-0,h=g["display.height"],b=g["display.width"],e;if(f)e=this.calcDiagonal(h,b)/f;else{var l=this.calcDiagonal(this.mmToInch(c),this.mmToInch(a));l*=0.663979;e=this.calcDiagonal(h,b)/l}return e}catch(d){}},scaleFactorSetter:function(g){if(typeof g==="number")return this.rp.style.cssText+=";font-size:"+g+"em;",this.scaleFactor=g},isMobile:function(){var g=ovi.platform,f=!0;if(navigator.userAgent.toLowerCase().indexOf("mobi")>
-1)f=!0;else if(g.windows||g.mac)f=!1;return f},Gs:function(g){if(ovi.browser.msie){var f=ovi.browser.version-0;f<=7?ovi.dom.addClass(g,"IE7"):f<=8&&ovi.dom.addClass(g,"IE8")}},lt:function(g){var f=g.ownerDocument;return this.Ks||(this.Ks=function(){var c=f.createElement("div");c.id="ovi_ppitest";document.body.appendChild(c);return c}())},calcDiagonal:function(g,f){return Math.sqrt(g*g-f*f)},mmToInch:function(g){return g*0.039370079}})})(nokia.maps);ovi.provide("nokia.maps.ui.common.Animator");
(function(){var h=nokia.maps.util,g=h.now,f=Math.min,c=h.Coroutine;nokia.maps.ui.common.Animator=new ovi.Class({initialize:function(a,h,b,e){var l=this;if(ovi.type(e)=="number")l.Xf=e;l.xk=a;l.Md=h;l.Qm=b;l.animatorCoCtx=c.create("nokia.maps.ui.common.Animator",function(){var a=(g()-l.Ne)/1E3/l.Md,a=l.Qm?a%1:f(1,a);l.xk(a);if(a==1)return l.stop(),c.BLOCKED;return c.sleep(1/l.Xf*1E3)})();c.sleep(null,l.animatorCoCtx)},Xf:20,ed:!1,start:function(a){ovi.type(a)!="number"&&(a=0);this.Ne=g()-a*this.Md*
1E3;if(!this.ed)this.ed=!0,c.resume(this.animatorCoCtx)},stop:function(){if(!this.ed)return 1;this.ed=!1;c.sleep(null,this.animatorCoCtx);return(g()-this.Ne)/1E3/this.Md}})})();ovi.provide("nokia.maps.ui.nokia_generic.GfxTemplate");
(function(h){function g(a,b){return j[b&&typeof b==="string"?b:0]}var f=h.gfx,c=new f.SvgParser,a=h.util,j,b={background:"#00F",border:"#FF0",stroke:"#0F0",fill:"#FFA500",text:"#000",label:"FF9900"},e={background:/darkgray/g,border:/darkblue/g,stroke:/darkgold/g,fill:/darkaqua/g,text:/darkpink/g,label:/_label(\d*)_/g};h.ui.nokia_generic.GfxTemplate=new ovi.Class({initialize:function(f,d,h,k){var m,k=a.proto(k,e);j=a.isArray(h)?h:[h||""];d=d||b;for(m in e)f=f.replace(k[m],m==="label"?g:d[m]);this.Rp=
c.parseSvgInfo(f)},HORIZONTAL:1,VERTICAL:2,stencil:function(a,b,e){var g=this.Rp,h=g.width,g=g.height,j=new f.Graphics;if((a=+a||1)<0||a===1/0)a=1;b=b%360||0;e=e&3||0;j.save();j.beginImage(h*a,g*a,a+"_"+b+"_"+e);j.scale(a,a);b&&(j.translate(h/2,g/2),j.rotate(-b),j.translate(h/-2,g/-2));e&1&&(j.translate(h,0),j.scale(-1,1));e&2&&(j.translate(0,g),j.scale(1,-1));c.parseSvgToGraphics(this.Rp.document,j);j.restore();return j}})})(nokia.maps);ovi.provide("nokia.maps.ui.UIComponent");
(function(h){var g=h.ui.UIComponent=new ovi.Class({Extends:h.map.component.Component,Mixins:[h.dom.EventTarget],initialize:function(f){this._super(f);this.onLanguageChange&&h.language.Info.addObserver("language",this.onLanguageChange,this)},build:function(f){!f&&!this.node&&ovi.error('#build() method of component "'+this.getId()+'" was not implemented (properly).');this.node?this.getRootNode().appendChild(this.node):this.set("node",g.findElement(f,this.getTemplate()))},attach:function(f){this._super(f);
this.node||this.build();this.show()},detach:function(f){this.hide();this._super(f)},hiddenSetter:function(f){if(!this.node)return f;f?ovi.dom.addClass(this.node,"ovi_hidden"):ovi.dom.removeClass(this.node,"ovi_hidden");return f},isHidden:function(){return this.hidden},show:function(){this.set("hidden",!1)},hide:function(){this.set("hidden",!0)},expandedSetter:function(f){return f},isExpanded:function(){return this.expanded},expand:function(){this.set("expanded",!0)},collapse:function(){this.set("expanded",
!1)},findElement:function(f,c){return g.findElement(f,c||this.node)},doc:function(){var f=this.mapDisplay.G||null;return f?f.ownerDocument:null},translate:function(f){return g.getTranslation(f)},translateHtml:function(f){return g.translateHtml(f)},Nm:function(f,c,a){return f=f.replace(a,function(a,b){return'url("'+c+b+'")'})},getRootNode:function(){return this.getTemplate()},getClippingNode:function(){return this.mapDisplay.db},getSize:function(f){f=f===void 0?this.mapDisplay.G:f;return{width:f.clientWidth,
height:f.clientHeight}},Statics:{renderTemplate:function(f,c,a){var j=f.G,b=j.ownerDocument,e=b.createElement("style"),l=h.dom.EventTarget(b.createElement("div"));e.type="text/css";l.className="ovi_mp_controls";e.styleSheet?e.styleSheet.cssText=a:e.appendChild(b.createTextNode(a));b.getElementsByTagName("head")[0].appendChild(e);c=c.replace(/(^[\s\S]*\<body\>)([\s\S]+)(<\/body>[\s\S]*)/,"$2");l.innerHTML=c;j.appendChild(l);l.style.zIndex=0;f.Ma.addListener("mouseenter",ovi.bind(f,g.Q));f.Ma.addListener("mouseleave",
ovi.bind(f,g.P));f.addObserver("baseMapType",g.uh,g);g.uh(f,"baseMapType",g.baseMapType,null);return l},findElement:function(f,c){if(c instanceof nokia.maps.map.Display)return g.findElement(f,c.G)||g.findElement(f,c.db);for(var a=RegExp("(^|\\s)"+f+"($|\\s)"),h=c.getElementsByTagName("*"),b=0;b<h.length;b++)if(a.test(h[b].className))return h[b];return null},i18n:new h.language.Manager,getTranslation:function(f){return g.i18n.translateToken(f,!1)},translateHtml:function(f){return g.i18n.translate(f,
!1,/__i18n_([a-zA-Z0-9_\.]*)__/g)},uh:function(f,c,a){var c=f.G,g=ovi.dom.removeClass,b=ovi.dom.addClass;a===f.NORMAL?(b(c,"ovi_mp_mapScheme_normal"),g(c,"ovi_mp_mapScheme_satellite"),g(c,"ovi_mp_mapScheme_terrain")):a===f.SATELLITE?(g(c,"ovi_mp_mapScheme_normal"),b(c,"ovi_mp_mapScheme_satellite"),g(c,"ovi_mp_mapScheme_terrain")):a===f.TERRAIN&&(g(c,"ovi_mp_mapScheme_normal"),g(c,"ovi_mp_mapScheme_satellite"),b(c,"ovi_mp_mapScheme_terrain"))},Q:function(){ovi.dom.addClass(this.G,"ovi_mp_hover")},
P:function(){ovi.dom.removeClass(this.G,"ovi_mp_hover")},hideAll:function(f,c){for(var a=f.qg={},h,b=f.components.asArray(),e=b.length;e--;)if(h=b[e],h instanceof g)a[h.getId()]=h.hidden,h===c?h.show():h.hide()},restoreAll:function(f){var c=f.qg,a;if(c){for(a in c)f.getComponentById(a).set("hidden",c[a]);delete f.qg}}}});h.ui.AbstractUIComponent=h.ui.UIComponent})(nokia.maps);ovi.provide("nokia.maps.ui.nokia_generic.UIComponent");ovi.provide("nokia.maps.resources.ui.nokia_generic.html");
nokia.maps.resources.ui.nokia_generic.html='<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">\n<html xmlns="http://www.w3.org/1999/xhtml">\n\t<head>\n\t\t<title>Nokia Maps - UI Components for Web</title>\n\t\t<\!--<link rel="stylesheet" type="text/css" href="ovi_touch.css" />--\>\n\t</head>\n\t<body>\n\t\t<\!-- Icon (actually pictograph) resources are added as SVG comments in faux script tags (<script type="text/foobar">). This hack insures that browsers\n\t\twhich are capable of parsing inline SVG do not begin to parse the cdata content, as webkit browsers are prone to do.\n\t\t<svg> tags are added to tags which have these been consciously omitted as they measure up to the 34x34 standard dimensions--\>\n\t\t<\!-- hiddenListener START --\>\n\t\t<div class="nm_hiddenListener nm_hidden">\n\t\t</div>\n\t\t<\!-- hiddenListener END --\>\n\t\t\n\t\t<\!--info bubble START --\>\n\t\t<div class="nm_infoBubble" role="tooltip" aria-hidden="true">\n\t\t\t<div class="nm_bubble">\n\t\t\t\t<div class="nm_bubble_bg nm_contentBG"></div>\n\t\t\t\t<div class="nm_bubble_controls">\n\t\t\t\t\t<span class="nm_bubble_control_close">&times;</span>\n\t\t\t\t</div>\n\t\t\t\t<div class="nm_bubble_content">\n\t\t\t\t</div>\n\t\t\t\t<div class="nm_bubble_linksbar"></div>\n\t\t\t\t<div  class="nm_bubble_tail">\n\t\t\t\t\t<script type="CDATA"  charset="infobubble">\n\t\t\t\t\t\t<![CDATA[\n\t\t\t\t\t\t\t<svg xmlns=\'http://www.w3.org/2000/svg\' version=\'1.1\' height=\'16\' width=\'20\'>\n\t\t\t\t\t\t\t\t<g>\n\t\t\t\t\t\t\t\t\t<path style="color:#000000;fill:#000F1A;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:1;marker:none;visibility:visible;display:inline;overflow:visible;enable-background:accumulate" id="path3069" d="m -35,52 l 10,16 l 0,-2 c 0,-2.216 1.784,-4 4,-4 l 6,0 L -35,52 z" transform="translate(35,-52)" />\n\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t]]\>\n\t\t\t\t\t<\/script>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<\!-- info bubble END --\>\n\t\t\n\t\t<div class="nm_arrangeableAnchor nm_top">\n\t\t\t<\!-- Positioning START --\>\n\t\t\t<div class="nm_positioningWrap nm_wrap nm_left nm_singleButton" aria-role="button" aria-pressed="false" aria-busy="false"  aria-hidden="true" >\n\t\t\t\t<div class="nm_firstBG"></div>\n\t\t\t\t<div class="nm_pos_icon_normal">\n\t\t\t\t\t<script type="CDATA" charset="positioning_normal">\n\t\t\t\t\t\t<![CDATA[\n\t\t\t\t\t\t <path style="color:#000000;fill:none;stroke:darkgold;stroke-width:0.75;stroke-miterlimit:4;stroke-dasharray:none;marker:none;visibility:visible;display:inline;overflow:visible;enable-background:accumulate" id="path3988" d="m -21,31  c 0.0000 3.3137 -2.6863 6.0000 -6.0000 6.0000 c -3.3137 0.0000 -6.0000 -2.6863 -6.0000 -6.0000 c -0.0000 -3.3137 2.6863 -6.0000 6.0000 -6.0000 c 3.3137 -0.0000 6.0000 2.6863 6.0000 6.0000 z" transform="matrix(1.4117647,0,0,1.4117647,55.117647,-26.764706)"/>\n\t\t\t\t\t\t <path style="color:#000000;fill:darkaqua;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:3;marker:none;visibility:visible;display:inline;overflow:visible;enable-background:accumulate" id="path3218" d="m -21,31  c 0.0000 3.3137 -2.6863 6.0000 -6.0000 6.0000 c -3.3137 0.0000 -6.0000 -2.6863 -6.0000 -6.0000 c -0.0000 -3.3137 2.6863 -6.0000 6.0000 -6.0000 c 3.3137 -0.0000 6.0000 2.6863 6.0000 6.0000 z" transform="translate(44,-14)"/>\n\t\t\t\t\t\t]]\>\n\t\t\t\t\t<\/script>\n\t\t\t\t</div>\n\t\t\t\t<div class="nm_pos_icon_pressed">\n\t\t\t\t\t<\!-- The pressed icon is the same as above for now but will probably change in the future. --\>\n\t\t\t\t\t<script type="CDATA" charset="positioning_pressed">\n\t\t\t\t\t\t<![CDATA[\n\t\t\t\t\t\t <path style="color:#000000;fill:none;stroke:darkgold;stroke-width:0.75;stroke-miterlimit:4;stroke-dasharray:none;marker:none;visibility:visible;display:inline;overflow:visible;enable-background:accumulate" id="path3988" d="m -21,31  c 0.0000 3.3137 -2.6863 6.0000 -6.0000 6.0000 c -3.3137 0.0000 -6.0000 -2.6863 -6.0000 -6.0000 c -0.0000 -3.3137 2.6863 -6.0000 6.0000 -6.0000 c 3.3137 -0.0000 6.0000 2.6863 6.0000 6.0000 z" transform="matrix(1.4117647,0,0,1.4117647,55.117647,-26.764706)"/>\n\t\t\t\t\t\t <path style="color:#000000;fill:darkaqua;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:3;marker:none;visibility:visible;display:inline;overflow:visible;enable-background:accumulate" id="path3218" d="m -21,31  c 0.0000 3.3137 -2.6863 6.0000 -6.0000 6.0000 c -3.3137 0.0000 -6.0000 -2.6863 -6.0000 -6.0000 c -0.0000 -3.3137 2.6863 -6.0000 6.0000 -6.0000 c 3.3137 -0.0000 6.0000 2.6863 6.0000 6.0000 z" transform="translate(44,-14)"\n\t\t\t\t\t\t />]]\>\n\t\t\t\t\t<\/script>\n\t\t\t\t</div>\n\t\t\t\t<div class="nm_pos_icon_busy">\n\t\t\t\t\t<\!-- The pressed icon is the same as above for now but will probably change in the future. --\>\n\t\t\t\t\t<script type="CDATA" charset="positioning_busy">\n\t\t\t\t\t\t<![CDATA[\n\t\t\t\t\t\t <path style="color:#000000;fill:none;stroke:darkgold;stroke-width:0.75;stroke-miterlimit:4;stroke-dasharray:none;marker:none;visibility:visible;display:inline;overflow:visible;enable-background:accumulate" id="path3988" d="m -21,31  c 0.0000 3.3137 -2.6863 6.0000 -6.0000 6.0000 c -3.3137 0.0000 -6.0000 -2.6863 -6.0000 -6.0000 c -0.0000 -3.3137 2.6863 -6.0000 6.0000 -6.0000 c 3.3137 -0.0000 6.0000 2.6863 6.0000 6.0000 z" transform="matrix(1.4117647,0,0,1.4117647,55.117647,-26.764706)"/>\n\t\t\t\t\t\t <path style="color:#000000;fill:darkaqua;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:3;marker:none;visibility:visible;display:inline;overflow:visible;enable-background:accumulate" id="path3218" d="m -21,31  c 0.0000 3.3137 -2.6863 6.0000 -6.0000 6.0000 c -3.3137 0.0000 -6.0000 -2.6863 -6.0000 -6.0000 c -0.0000 -3.3137 2.6863 -6.0000 6.0000 -6.0000 c 3.3137 -0.0000 6.0000 2.6863 6.0000 6.0000 z" transform="translate(44,-14)"\n\t\t\t\t\t\t />]]\>\n\t\t\t\t\t<\/script>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<\!-- Positioning END --\>\n\t\t\t<\!-- MapSettings START--\>\n\t\t\t<ul class="nm_mapSettingsWrap nm_layout_horizontal nm_right" aria-role="menubar" aria-expanded="false" >\n\t\t\t\t<ul class="nm_wrapperBG">\n\t\t\t\t\t<li></li>\n\t\t\t\t\t<li></li>\n\t\t\t\t\t<li></li>\n\t\t\t\t</ul>\n\t\t\t\t<li class="nm_publicTransport nm_wrap" aria-hidden="true" aria-role="menuitemradio">\n\t\t\t\t\t<div class="nm_firstBG"></div>\n\t\t\t\t\t\t<script type="CDATA" charset="publicTransport">\n\t\t\t\t\t\t\t<![CDATA[\n\t\t\t\t\t\t\t<path d="m 20.445561,26 h 2.58417 v -1.292085 h -2.58417 V 26 z" id="path3113" style="fill:darkaqua;stroke:none" />\n\t\t\t\t\t\t\t<path d="m 10.970269,26 h 2.58417 v -1.292085 h -2.58417 V 26 z" id="path3111" style="fill:darkaqua;stroke:none" />\n\t\t\t\t\t\t\t<path d="m 21.061847,22.26838 c -0.771141,0 -1.396706,-0.628111 -1.396706,-1.401796 c 0,-0.771649 0.625565,-1.401794 1.396706,-1.401794 c 0.77572,0 1.402812,0.627601 1.402812,1.401794 c 0,0.772667 -0.626074,1.401796 -1.402812,1.401796 z m -8.126238,-0.0056 c -0.774194,0 -1.400777,-0.623529 -1.400777,-1.396196 c 0,-0.769103 0.626583,-1.399759 1.400777,-1.399759 c 0.772667,0 1.398741,0.625566 1.398741,1.399759 c 0,0.772667 -0.626074,1.396196 -1.398741,1.396196 z M 11.989901,13.002736 C 11.988506,12.450978 12.271014,12 12.815647,12 l 8.347497,0 C 21.710832,12 21.998605,12.450978 22,13.002736 l 0.0101,3.995546 C 22.011499,17.551567 21.718387,18 21.173244,18 l -8.347498,0 C 12.280095,18 12.001398,17.551567 12,16.998282 z M 13,10 l 8,0 l 0,1 l -8,0 z m 6.584161,-2.0000001 l -5.155636,0 C 11.825325,7.9999999 10,9.4973374 10,10.986027 l 0,11.482166 C 10,23.844028 10.718665,24 11.463846,24 l 11.07129,0 C 23.27879,24 24,23.857495 24,22.481656 L 24,11 C 24,9.4917667 22.149293,7.9999999 19.584161,7.9999999 z" id="path3075" style="fill:darkaqua;stroke:none" />\n\t\t\t\t\t\t\t]]\>\n\t\t\t\t\t\t<\/script>\n\t\t\t\t</li>\n\t\t\t\t<li class="nm_traffic nm_wrap" aria-hidden="true" aria-role="menuitemradio">\n\t\t\t\t\t<div class="nm_firstBG"></div>\n\t\t\t\t\t\t<script type="CDATA" charset="traffic">\n\t\t\t\t\t\t\t<![CDATA[\n\t\t\t\t\t\t\t<path d="m 13.999309,24.730567 l 0,1.269433 L 12,26 l 0,-1.590264 c 0.283371,0.201199 0.625954,0.320831 1.002374,0.320831 z" id="path6066" style="fill:darkaqua" />\n\t\t\t\t\t\t\t<path d="m 13.126235,18.456519 c 0.129904,-0.381254 0.925036,-2.773294 0.925036,-2.773294 c 0.133529,-0.409652 0.514781,-0.681542 0.947392,-0.681542 l 8.000258,0 c 0.430193,0 0.815675,0.272496 0.951017,0.681542 c 0,0 0.793923,2.39204 0.921409,2.773294 c 0.233827,0.237452 0.835614,0.838029 0.835614,0.838029 C 25.893661,19.478831 26,19.733805 26,20.000258 l 0,3.001079 c 0,0.551639 -0.446507,0.999352 -0.999352,0.999352 l -12.000087,0 c -0.554659,0 -1.00177,-0.447713 -1.00177,-0.999352 l 0,-3.001683 c 0,-0.266454 0.104527,-0.521428 0.29606,-0.705709 c -6.04e-4,0 0.601183,-0.60058 0.831384,-0.837426 z M 22.527038,16 l -7.049847,0 l -0.780631,2.999698 l 8.607484,0 z m 1.301455,6.719778 c 0.734107,0 1.327434,-0.600579 1.327434,-1.338311 c 0,-0.742565 -0.591514,-1.33831 -1.327434,-1.33831 c -0.733504,0 -1.330457,0.59514 -1.330457,1.33831 c 0,0.737732 0.596953,1.338311 1.330457,1.338311 z m -9.656381,0 c 0.732899,0 1.32683,-0.600579 1.32683,-1.338311 c 0,-0.742565 -0.593931,-1.33831 -1.32683,-1.33831 c -0.736525,0 -1.331061,0.59514 -1.331061,1.33831 c 6.04e-4,0.737732 0.592724,1.338311 1.331061,1.338311 z" id="path6058" style="fill:darkaqua" />\n\t\t\t\t\t\t\t<path d="m 25.998188,24.409736 l 0,1.590264 l -1.997497,0 l 0,-1.269433 l 0.998144,0 c 0.372794,0 0.717189,-0.119632 0.999353,-0.320831 z" id="path6038" style="fill:darkaqua" />\n\t\t\t\t\t\t\t<path d="m 10.1875,16.03125 c 0.732899,0 1.3125,0.601185 1.3125,1.34375 c 0,0.737732 -0.579601,1.34375 -1.3125,1.34375 c -0.738337,0 -1.343146,-0.606018 -1.34375,-1.34375 c 0,-0.74317 0.607225,-1.34375 1.34375,-1.34375 z M 11,11 c -0.432611,0 -0.803971,0.277848 -0.9375,0.6875 c 0,0 -0.807596,2.399996 -0.9375,2.78125 c -0.230201,0.236846 -0.844354,0.8125 -0.84375,0.8125 C 8.089717,15.465531 8,15.733546 8,16 l 0,3 c 0,0.551639 0.445341,1 1,1 l 2.03125,0 c 0,-0.482549 0.17439,-1.002768 0.59375,-1.40625 c 0.0029,-0.0028 -0.0026,-0.02875 0,-0.03125 c 0.0053,-0.005 0.02255,0.0082 0.03125,0 c 0.01731,-0.01633 0.03226,-0.03395 0.0625,-0.0625 c 0.06048,-0.0571 0.12906,-0.13335 0.21875,-0.21875 c 0.121577,-0.11576 0.240203,-0.210852 0.34375,-0.3125 c 0.196435,-0.580002 0.875,-2.59375 0.875,-2.59375 c 0.04476,-0.137321 0.115265,-0.25348 0.1875,-0.375 l -2.65625,0 l 0.78125,-3 l 7.0625,0 l 0.53125,2 l 1.65625,0 C 20.460535,13.223655 19.9375,11.6875 19.9375,11.6875 C 19.802158,11.278454 19.430193,11 19,11 l -8,0 z" id="path6071" style="fill:darkaqua" />\n\t\t\t\t\t\t\t<path d="M 8,20.40625 L 8,22 l 2,0 l 0,-1.28125 l -1,0 c -0.37642,0 -0.716629,-0.111301 -1,-0.3125 z" id="path6040" style="fill:darkaqua"/>\n\t\t\t\t\t\t\t]]\>\n\t\t\t\t\t\t<\/script>\n\t\t\t\t</li>\n\t\t\t\t<dl class="nm_dropDownMenu  nm_mapSelectorWrap nm_wrap" aria-expanded="false" aria-haspopup="true" aria-role="menu" aria-hidden="true" ><dt class="nm_menuItemMapType" aria-role="menuitem"><span class="nm_labelOpen nm_firstBG" aria-role="label" title="__i18n_ovi.service.map._t20__">__i18n_ovi.service.map._t17__<\!--<span class="nm_dropdown_arrow"></span>--\></span><span class="nm_labelClose"  aria-role="label">__i18n_ovi.service.map._t61__</span></dt><dd class="nm_normal nm_first" aria-role="menuitemradio" tabindex="-1"><span class="nm_secondBG">__i18n_ovi.service.map._t17__</span><span class="nm_icon">&#8984;</span></dd><dd class="nm_satellite" aria-role="menuitemradio" tabindex="-1"><span class="nm_secondBG">__i18n_ovi.service.map._t18__</span><span class="nm_icon">&#8984;</span></dd><dd class="nm_terrain nm_last" aria-role="menuitemradio" tabindex="-1"><span class="nm_secondBG">__i18n_ovi.service.map._t19__</span><span class="nm_icon">&#8984;</span></dd></dl>\n\t\t\t</ul>\n\t\t\t<\!-- MapSettings END --\>\n\t\t</div>\n\t\t<\!-- Positioning END --\>\n\t\t\n\t\t<\!-- Zoombar START --\>\n\t\t<div class="nm_arrangeableAnchor nm_middle">\n\t\t\t<div class="nm_zoomWrap nm_wrap nm_right" aria-expanded="true" aria-hidden="true" >\n\t\t\t\t<\!-- Aria-expanded states set to true are required here (both above and below) as measurements are taken based on this state at initialisation--\>\n\t\t\t\t\t<div class="nm_zoomButtons nm_buttonPair">\n\t\t\t\t\t\t<div class="nm_firstBG nm_background">&nbsp;</div>\n\t\t\t\t\t\t<div class="nm_zoomIn" aria-role="button">\n\t\t\t\t\t\t\t<script type="CDATA"  charset="zoomin">\n\t\t\t\t\t\t\t\t<![CDATA[\n\t\t\t\t\t\t\t\t\t<path fill="darkaqua" fill-rule="nonzero" style="enable-background:accumulate;color:#000000;" d="M16,4.875v3h-3v2h3v3h2v-3h3v-2h-3v-3h-2z"/>\n\t\t\t\t\t\t\t\t]]\>\n\t\t\t\t\t\t\t<\/script>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="nm_zoomOut" aria-role="button">\n\t\t\t\t\t\t\t<script type="CDATA" charset="zoomout">\n\t\t\t\t\t\t\t\t<![CDATA[\n\t\t\t\t\t\t\t\t\t<g transform="translate(0,-1018.3622)" id="layer1" style="display:inline">\n\t\t\t\t\t\t\t\t\t\t<rect width="2" height="8" x="517.16022" y="208.91977" transform="matrix(0,1,-1,0,229.9198,523.20198)" id="rect6052" style="color:#000000;fill:darkaqua;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:1;marker:none;visibility:visible;display:inline;overflow:visible;enable-background:accumulate" />\n\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t]]\>\n\t\t\t\t\t\t\t<\/script>\n\t\t\t\t\t\t </div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="nm_zoomLevels" aria-expanded="false" aria-hidden="false" role="application" aria-valuemin="0" aria-valuemax="20" aria-valuenow="10">\n\t\t\t\t\t\t<div class="nm_zoomSlider" aria-role="button">\n\t\t\t\t\t\t\t<div class="nm_secondBG nm_background"></div>\n\t\t\t\t\t\t\t<div class="nm_zoomSliderTrack">\n\t\t\t\t\t\t\t\t<div aria-role="button" class="nm_zoomSliderKnob" title="__i18n_ovi.service.map._t42__" draggable="true" unselectable="on">\n\t\t\t\t\t\t\t\t\t<span class="nm_thirdBG"></span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<\!-- Dynamically created according to map zoom levels--\>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<ul class="nm_zoomBookmarks nm_notouch" aria-role="listbox">\n\t\t\t\t\t\t\t<li class="nm_zoomBookmark nm_zoomBookmark_street" aria-role="option">\n\t\t\t\t\t\t\t\t\t<span class=" nm_secondBG nm_background">__i18n_ovi.service.map._t46__</span>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li class="nm_zoomBookmark nm_zoomBookmark_city" aria-role="option">\n\t\t\t\t\t\t\t\t\t<span class="nm_secondBG">__i18n_ovi.service.map._t45__</span>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li class="nm_zoomBookmark nm_zoomBookmark_state" aria-role="option">\n\t\t\t\t\t\t\t\t\t<span class="nm_secondBG">__i18n_ovi.service.map._t44__</span>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li class="nm_zoomBookmark nm_zoomBookmark_country" aria-role="option">\n\t\t\t\t\t\t\t\t\t<span class="nm_secondBG">__i18n_ovi.service.map._t43__</span>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<\!-- zoomBar END --\>\n\t\t\n\t\t<div class="nm_arrangeableAnchor nm_bottom">\n\t\t\t<\!-- Overview START --\>\n\t\t\t<div class="nm_overviewWrap nm_wrap nm_right" aria-expanded="false" unselectable="on" aria-hidden="true" >\n\t\t\t\t<div class="nm_overviewMap" unselectable="on"></div>\n\t\t\t\t<div class="nm_overviewButton nm_singleButton" aria-role="button" unselectable="on">\n\t\t\t\t\t<div class="nm_firstBG"></div>\n\t\t\t\t\t<script type="CDATA" charset="overview">\n\t\t\t\t\t\t<![CDATA[\n\t\t\t\t\t\t\t<path d="m 8,10 l 0,14 l 18,0 l 0,-14 z m 1,1 l 16,0 l 0,12 L 9,23 z" id="rect3114" style="color:#000000;fill:darkaqua;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:1;marker:none;visibility:visible;display:inline;overflow:visible;enable-background:accumulate" />\n\t\t\t\t\t\t\t<path d="m 10,12 l 0,10 l 6,0 l 0,-6 l 8,0 l 0,-4 z" id="rect3119" style="color:#000000;fill:darkaqua;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:1;marker:none;visibility:visible;display:inline;overflow:visible;enable-background:accumulate" />\n\t\t\t\t\t\t]]\>\n\t\t\t\t\t<\/script>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<\!-- Overview END --\>\n\n\t\t\t<\!-- Distance Measurement START --\>\n\t\t\t<div class="nm_rulerWrap nm_wrap nm_right nm_singleButton" aria-hidden="true" aria-role="button" unselectable="on">\n\t\t\t\t<div class="nm_firstBG"></div>\n\t\t\t\t<div class="nm_rulerButton_icon_normal nm_rulerButton">\n\t\t\t\t\t<script type="CDATA" charset="ruler_normal">\n\t\t\t\t\t\t<![CDATA[\n\t\t\t\t\t\t\t<path d="m15,1H2C1.447,1,1,1.448,1,2v5.001C1,7.553,1.447,8,2,8h13c0.553,0,1-0.447,1-1V2C16,1.448,15.553,1,15,1z M15,5.999v0.91v0.09V7H2l0,0V3h1v3h2V5h1v1h2V4h1v2h2V5h1v0.999h2V3h1V5.999z"  transform="translate(8,15)" style="color:#000000;fill:darkaqua;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:1;marker:none;visibility:visible;display:inline;overflow:visible;enable-background:accumulate" />\n\t\t\t\t\t\t]]\>\n\t\t\t\t\t<\/script>\n\t\t\t\t</div>\n\t\t\t\t<div class="nm_rulerButton_icon_pressed nm_rulerButton">\n\t\t\t\t\t<script type="CDATA" charset="ruler_pressed">\n\t\t\t\t\t\t<![CDATA[\n\t\t\t\t\t\t\t<path d="m15,1H2C1.447,1,1,1.448,1,2v5.001C1,7.553,1.447,8,2,8h13c0.553,0,1-0.447,1-1V2C16,1.448,15.553,1,15,1z M15,5.999v0.91v0.09V7H2l0,0V3h1v3h2V5h1v1h2V4h1v2h2V5h1v0.999h2V3h1V5.999z"  transform="translate(8,15)" style="color:darkaqua;fill:darkaqua;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:1;marker:none;visibility:visible;display:inline;overflow:visible;enable-background:accumulate" />\n\t\t\t\t\t\t]]\>\n\t\t\t\t\t<\/script>\n\t\t\t\t</div>\n\t\t\t</div>\t\n\t\t\t<\!-- Distance Measurement END --\>\n\t\t\t\n\t\t\t<\!-- Scalebar START --\>\n\t\t\t<\!--<div class="nm_scalebarAnchor" aria-hidden="true">--\>\n\t\t\t\t<div class="nm_scalebarWrap nm_wrap nm_metric nm_right"  aria-hidden="true" aria-role="button">\n\t\t\t\t\t<div class="nm_scalebarTemplate" aria-role="button">\n\t\t\t\t\t\t<div class="nm_scaleBarExpandableElement"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<span class="nm_scalebarUnitinfo" aria-hidden="true">__i18n_ovi.service.map._t26__</span>\n\t\t\t\t\t<\!--Style definition below is here because it reset everything and in CSS file should be easily changed without any warning.--\>\n\t\t\t\t\t<span class="nm_scalebarTextTester" style="text-align: left; font-weight: normal; font-size: 10px; font-family: Arial; font-style: normal; font-variant: normal; text-transform: none; text-decoration: none; visibility: hidden;"></span>\n\t\t\t\t</div>\n\t\t\t<\!--</div>--\>\n\t\t\t<\!-- Scalebar END --\>\n\t\t</div>\n\t\t\n\t\t<\!-- RightClick menu START --\>\n\t\t<div class="nm_rcMenu nm_wrap" aria-hidden="true" aria-role="menu">\n\t\t\t<div class="nm_rcMenuItem"></div>\n\t\t\t<div class="nm_rcMenuSeparator"></div>\n\t\t\t<div class="nm_rcMenuPin"></div>\n\t\t</div>\n\t\t<\!-- RightClick menu END --\>\n\t</body>\n</html>';
ovi.provide("nokia.maps.resources.ui.nokia_generic.css");nokia.maps.resources.ui.nokia_generic.css='.ovi_mp_controls{font-family:Arial,Helvetica,sans-serif;}.ovi_mp_controls ul,.ovi_mp_controls li,.ovi_mp_controls dl,.ovi_mp_controls dd{padding:0;margin:0;list-style:none;font-size:1em;}.nm_crnode a:hover{color:#0BD!important;}.nm_hidden,.ovi_mp_controls [aria-hidden="true"],.nm_infoBubble[aria-hidden="true"],.nm_rcMenu[aria-hidden="true"]{display:none!important;}.nm_conceal{visibility:hidden;}.ovi_mp_controls [aria-role="button"],.ovi_mp_controls [aria-role="option"],.ovi_mp_controls [aria-role="menuitem"],.ovi_mp_controls [aria-role="menuitemradio"]{min-width:3.4em;min-height:3.4em;cursor:pointer;}[aria-role="menuitemradio"] .nm_firstBG{width:3.2em;height:2.6em;margin:.3em 0;}.nm_layout_horizontal [aria-role="menuitemradio"] .nm_firstBG{margin:.3em 0;}.ovi_mp_controls [aria-disabled="true"]{cursor:default;}.nm_gfx{position:absolute;top:0;}.nm_wrap{-webkit-transform:scale(1);}.nm_hover .nm_wrap{opacity:1;}.nm_wrap:hover,.nm_wrap:focus,.nm_wrap[aria-expanded="true"],[aria-role="menuitemradio"]:focus{outline:none;opacity:1;}.nm_wrap:hover .nm_firstBG,.nm_wrap:focus .nm_firstBG{border-color:#FFF;opacity:1;outline:none;}.nm_firstBG{color:#000F1A;border:.1em solid #E6E6E6;background-image:-webkit-gradient(linear,0% 0,0% 100%,from(#ECECEC),to(#CCC));background-image:-webkit-linear-gradient(top,#ECECEC,#CCC);background-image:-moz-linear-gradient(top,#ECECEC,#CCC);background-image:-ms-linear-gradient(top,#ECECEC,#CCC);background-image:-o-linear-gradient(#ececec,#ccc);background-image:linear-gradient(top,#ECECEC,#CCC);background-color:#DBDBDB;-webkit-border-radius:.3em;-moz-border-radius:.3em;-o-border-radius:.3em;-ms-border-radius:.3em;border-radius:.3em;border-radius:0 \\0/;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=\'#ECECEC\',endColorstr=\'#CCCCCC\');}[aria-disabled="true"] .nm_firstBG,.nm_wrap[aria-disabled="true"]:hover .nm_firstBG,.nm_wrap[aria-disabled="true"]:active .nm_firstBG{background-image:none;background-color:#BFBFBF;filter:none;border-color:#E6E6E6;}.nm_firstBG:hover{color:#0BD;}.nm_notouch .nm_firstBG:focus,.nm_notouch .nm_secondBG:focus,.nm_notouch .nm_secondBG:hover{background-color:#0BD;color:white;}.nm_secondBG{color:#E6E6E6;background-color:#000F1A;-webkit-border-radius:.4em;-moz-border-radius:.4em;-o-border-radius:.4em;border-radius:.4em;white-space:nowrap;}.nm_hover [aria-role="button"]:hover .nm_secondBG,.nm_hover [aria-role="menuitem"]:hover .nm_secondBG,.nm_hover [aria-role="menuitemradio"]:hover .nm_secondBG,.ovi_mp_controls [aria-role="button"]:active .nm_secondBG,.ovi_mp_controls [aria-role="option"]:active .nm_secondBG,.ovi_mp_controls [aria-role="menuitem"]:active .nm_secondBG,.ovi_mp_controls [aria-role="menuitemradio"]:active .nm_secondBG,.ovi_mp_controls [aria-role="button"]:focus .nm_secondBG,.ovi_mp_controls [aria-role="option"]:focus .nm_secondBG,.ovi_mp_controls [aria-role="menuitem"]:focus .nm_secondBG,.ovi_mp_controls [aria-role="menuitemradio"]:focus .nm_secondBG,[aria-role="menuitem"][aria-selected="true"] .nm_secondBG,[aria-role="menuitem"][aria-selected="true"]:focus .nm_secondBG,[aria-role="menuitem"][aria-selected="true"]:hover .nm_secondBG,[aria-role="menuitemradio"][aria-checked="true"] .nm_secondBG,[aria-role="menuitemradio"][aria-checked="true"]:focus .nm_secondBG,[aria-role="menuitemradio"][aria-checked="true"]:hover .nm_secondBG{background-color:#0BD;color:#FFF;}[aria-role="menuitem"][aria-selected="true"] .nm_secondBG,[aria-role="menuitemradio"][aria-checked="true"] .nm_secondBG{font-weight:bold;}.ovi_mp_controls [aria-role="button"]:focus .nm_secondBG,.ovi_mp_controls [aria-role="option"]:focus .nm_secondBG,.ovi_mp_controls [aria-role="menuitem"]:focus .nm_secondBG,.ovi_mp_controls [aria-role="menuitemradio"]:focus .nm_secondBG{border:.1em solid #fff;margin:-0.1em;}.ovi_mp_controls [aria-role="button"]:hover .nm_secondBG,.ovi_mp_controls [aria-role="menuitem"]:hover .nm_secondBG,.ovi_mp_controls [aria-role="menuitemradio"]:hover .nm_secondBG{background-color:#0BD;}.nm_thirdBG{background-image:-webkit-gradient(linear,0% 0,0% 100%,from(#ECECEC),to(#CCC));background-image:-moz-linear-gradient(top,#ECECEC,#CCC);background-image:-o-linear-gradient(#ececec,#ccc);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=\'#ECECEC\',endColorstr=\'#CCCCCC\');background-color:#DBDBDB;}[aria-disabled="true"] .nm_thirdBG{background-image:none;background-color:#BFBFBF;}.ovi_mp_controls .nm_wrapperBG{background-color:#000F1A;-webkit-border-radius:.5em;-moz-border-radius:.5em;-o-border-radius:.5em;border-radius:.5em;padding:0 .7em;overflow:hidden;}.nm_wrapperBG li{border-bottom:.1em solid #4E575F;display:block;height:3.2em;}.nm_wrapperBG li:first-child{visibility:hidden;}.nm_contentBG{background-color:#000F1A;-webkit-border-radius:.4em;-moz-border-radius:.4em;-o-border-radius:.4em;border-radius:.4em;}.nm_singleButton{float:inherit;}.nm_singleButton .nm_firstBG{position:relative;width:2.6em;height:2.6em;margin:.3em;}.nm_buttonPair{position:relative;width:1.6em;height:6.8em;overflow:hidden;}.nm_buttonPair .nm_firstBG{width:1.4em;height:6.6em;margin:0 auto;}.nm_buttonPair .nm_zoomIn{margin-top:-6.6em;}.nm_buttonPair .nm_zoomOut{position:absolute;}[aria-expanded="true"] .nm_labelOpen{display:none!important;}[aria-expanded="false"] .nm_labelClose{display:none!important;}[aria-role="menuitemradio"] .nm_gfx{margin:-0.3em 0;}.nm_layout_horizontal [aria-role="menuitemradio"] .nm_gfx{margin:0;}.nm_arrangeableAnchor{position:absolute;width:100%;height:0;}.nm_arrangeableAnchor.nm_top{transition:all .5s;-moz-transition:all .5s;-webkit-transition:all .5s;-o-transition:all .5s;-ms-transition:all .5s;top:0;}.nm_adbar_top .nm_arrangeableAnchor.nm_top{top:28px;}.nm_arrangeableAnchor.nm_middle{top:50%;}.nm_arrangeableAnchor.nm_bottom{transition:all .5s;-moz-transition:all .5s;-webkit-transition:all .5s;-o-transition:all .5s;-ms-transition:all .5s;bottom:0;}.nm_adbar_bottom .nm_arrangeableAnchor.nm_bottom{bottom:28px;}.nm_bottom .nm_wrap{margin-top:-3.4em;}.nm_bottom .nm_gfx{top:auto;bottom:0;}.nm_left{float:left;}.nm_center{margin-left:50%;float:left;}.nm_right{float:right;}.nm_cover{position:absolute;top:0;width:3.4em;height:3.4em;}.nm_zoomHorAnchor{position:absolute;width:100%;top:50%;height:0;}.nm_zoomButtons{position:absolute;top:-3.4em;right:0;width:3.4em;-moz-transition:top 200ms linear,right 200ms linear,height 200ms linear;-webkit-transition:top 200ms linear,right 200ms linear,height 200ms linear;-o-transition:top 200ms linear,right 200ms linear,height 200ms linear;transition:top 200ms linear,right 200ms linear,height 200ms linear;-webkit-transform:scale(1);}.nm_zoomButtons .nm_firstBG{-moz-transition:width 200ms linear,height 200ms linear;-webkit-transition:width 200ms linear,height 200ms linear;-o-transition:width 200ms linear,height 200ms linear;transition:width 200ms linear,height 200ms linear;}.nm_zoomWrap[aria-expanded="false"] .nm_zoomButtons{width:1.7em;height:3.4em;right:-0.2em;top:-1.7em;}.nm_zoomWrap[aria-expanded="false"].nm_left .nm_zoomButtons{left:-0.2em;right:auto;}.nm_zoomWrap[aria-expanded="false"]:active .nm_zoomButtons,.nm_zoomWrap[aria-expanded="false"].nm_active .nm_zoomButtons{top:-1.8em;height:3.6em;}.nm_zoomWrap[aria-expanded="false"]:active .nm_zoomButtons .nm_firstBG,.nm_zoomWrap[aria-expanded="false"].nm_active .nm_zoomButtons .nm_firstBG{height:3.6em;}.nm_zoomWrap[aria-expanded="false"] .nm_zoomButtons .nm_firstBG{width:.7em;height:3.4em;border:none;}.nm_zoomWrap[aria-expanded="false"] .nm_zoomButtons [aria-role="button"]{min-height:1.7em;min-width:1.7em;}.nm_zoomWrap[aria-expanded="false"] .nm_zoomIn{margin-top:-3.4em;}.nm_zoomLevels{position:absolute;display:none;right:2.5em;width:3.4em;-moz-transition:right 200ms ease-out,margin-top 200ms linear;-webkit-transition:right 200ms ease-out,margin-top 200ms linear;-o-transition:right 200ms ease-out,margin-top 200ms linear;transition:right 200ms ease-out,margin-top 200ms linear;-webkit-transform:scale(1);}.nm_zoomWrap[aria-expanded="false"] .nm_zoomLevels{right:0;margin-top:-1.7em;}.nm_zoomLevels[aria-expanded="false"]{margin-top:-3.3em;}.nm_zoomLevels[aria-expanded="true"]{margin-top:-6.7em;}.nm_zoomSlider{-webkit-transform:scale(1);}.nm_zoomSlider .nm_secondBG{position:relative;margin:0 auto;-moz-transition:width 200ms linear,height 200ms linear;-webkit-transition:width 200ms linear,height 200ms linear;-o-transition:width 200ms linear,height 200ms linear;transition:width 200ms linear,height 200ms linear;}.nm_zoomWrap[aria-expanded="false"] .nm_secondBG{width:.4em;height:3.3em;}.nm_zoomWrap[aria-expanded="true"] .nm_zoomLevels[aria-expanded="false"] .nm_secondBG{width:.6em;height:6.8em;}.nm_zoomWrap[aria-expanded="true"] .nm_zoomLevels[aria-expanded="false"]:active .nm_secondBG,.nm_zoomWrap[aria-expanded="true"] .nm_zoomLevels[aria-expanded="false"].nm_active .nm_secondBG{height:6.392em;width:.564em;margin-top:.3em;}.nm_zoomLevels[aria-expanded="true"] .nm_zoomSlider .nm_secondBG{width:1.2em;height:13.4em;}.nm_zoomLevels[aria-expanded="true"]:active .nm_secondBG,.nm_zoomLevels[aria-expanded="true"].nm_active .nm_secondBG{width:1.176em;height:13.132em;margin-top:.134em;}.nm_zoomSliderTrack{position:absolute;left:0;width:100%;background-color:transparent;}.nm_zoomWrap[aria-expanded="false"] .nm_zoomSliderTrack{top:.2em;height:2.8em;}.nm_zoomWrap[aria-expanded="true"] .nm_zoomSliderTrack{top:.4em;height:5.8em;}.nm_zoomLevels[aria-expanded="true"] .nm_zoomSliderTrack{height:11.3em;top:1.05em;}.nm_zoomSliderKnob{position:absolute;margin-top:-1.7em;margin-left:0;cursor:pointer;}.nm_zoomSliderKnob[aria-disabled="true"]{width:.4em;height:.2em;min-width:.4em;min-height:.2em;left:1.5em;margin-top:-0.1em;}.nm_zoomSliderKnob .nm_thirdBG{position:absolute;width:.2em;height:.4em;top:0;left:.1em;-webkit-border-radius:.1em;-moz-border-radius:.1em;-o-border-radius:.1em;border-radius:.1em;-moz-transition:width 200ms linear,height 200ms linear;-webkit-transition:width 200ms linear,height 200ms linear;-o-transition:width 200ms linear,height 200ms linear;transition:width 200ms linear,height 200ms linear;}.nm_zoomWrap[aria-expanded="true"] .nm_zoomSliderKnob[aria-disabled="true"]{margin-top:-0.3em;left:1.4em;min-width:0;min-height:0;}.nm_zoomWrap[aria-expanded="true"] .nm_zoomSliderKnob .nm_thirdBG{width:.4em;height:.8em;top:0;left:.1em;-webkit-border-radius:.2em;-moz-border-radius:.2em;-o-border-radius:.2em;border-radius:.2em;}.nm_zoomLevels[aria-expanded="true"] .nm_zoomSliderKnob .nm_thirdBG{width:.8em;height:1.8em;top:.8em;left:1.3em;-webkit-border-radius:.4em;-moz-border-radius:.4em;-o-border-radius:.4em;border-radius:.4em;}.nm_zoomLevels[aria-expanded="true"] .nm_zoomSliderKnob:active .nm_thirdBG{width:.784em;height:1.72em;background-color:red;}.nm_zoomBookmarks{position:absolute;top:0;list-style:none;margin:0;padding:0;-webkit-transform:scale(1);}.nm_right .nm_zoomBookmarks{text-align:right;right:3.4em;}.nm_zoomLevels[aria-expanded="false"] .nm_zoomBookmarks{display:none;}.nm_zoomBookmark{padding:0;line-height:3.4em;}.nm_zoomBookmark .nm_secondBG{width:100%;padding:.1em .6em;white-space:pre;}.nm_left .nm_zoomButtons{left:0;right:auto;}.nm_left .nm_zoomLevels{left:0;right:auto;margin-left:2.5em;}.nm_left .nm_zoomBookmarks{margin-left:3.4em;}.nm_left[aria-expanded="false"] .nm_zoomLevels{margin-left:0!important;margin-top:-1.6em!important;}.nm_positioningWrap{width:3.4em;overflow:hidden;}.nm_positioningWrap[aria-pressed="true"] .nm_pos_icon_normal{display:none;}.nm_positioningWrap[aria-pressed="false"] .nm_pos_icon_pressed{display:none;}.nm_positioningWrap[aria-busy="false"] .nm_pos_icon_busy{display:none;}.nm_positioningWrap[aria-busy="true"] .nm_pos_icon_normal,.nm_positioningWrap[aria-busy="true"] .nm_pos_icon_pressed{display:none;}.nm_positioningWrap:active .nm_firstBG{background-image:none;filter:none;background-color:#333;}.nm_infoBubble{cursor:default;position:absolute;left:400px;top:100px;white-space:normal;outline:none;margin:8px;color:white;-webkit-transform:scale(1);box-shadow:0 0 1px #ccc;z-index:100;}.nm_bubble{font-family:arial,helvetica,sans;-webkit-border-radius:.4em;-moz-border-radius:.4em;-o-border-radius:.4em;border-radius:.4em;}.nm_infoBubble .nm_bubble_bg{position:absolute;top:0;left:0;width:100%;height:100%;z-index:-1;}.nm_noborder{border:0!important;}.nm_bubble_lp0{padding-left:0!important;}.nm_bubble_content{padding:1.5em;font-size:1em;}.nm_bubble_sidelinks{right:1.5em;position:absolute;text-align:right;}.nm_bubble_sidelinks a{color:#595;text-decoration:none;}.nm_hover .nm_bubble_sidelinks a:hover{text-decoration:underline;}.nm_bubble_content a,.nm_bubble_content a:visited{color:white;}.nm_bubble_content p{margin:0 0 .5em 0;}.nm_bubble_controls{position:absolute;top:-0.3em;right:.3em;}.nm_bubble_controls .nm_bubble_control_close{color:#999;text-decoration:none;font-size:2em;cursor:pointer;}.nm_bubble_linksbar{display:none;margin:0 1.5em;padding:1.0em 0 1.0em 0;border-top:.1em solid #d2d2d2;}.nm_bubble_linksbar a{text-decoration:none;color:#595;padding:0 .7em 0 .5em;border-right:.1em solid #cfcfcf;}.nm_hover .nm_bubble_linksbar a:hover{text-decoration:underline;}.nm_bubble_tail{position:absolute;z-index:-10;}.nm_right[aria-role="menubar"]{margin-right:.3em;}.nm_left[aria-role="menubar"]{margin-left:.3em;}.ovi_mp_controls .nm_mapSelectorWrap{position:relative;}.nm_ie78 .nm_mapSelectorWrap{position:relative;float:right;}.nm_mapSettingsWrap{-webkit-transform:scale(1);}.nm_layout_horizontal[aria-role="menubar"] .nm_wrapperBG{height:2.8em;margin-top:.3em;margin-bottom:-3.1em;}.nm_openVertSelector[aria-role="menubar"] .nm_wrapperBG{height:13.5em;margin-bottom:-13.8em;}[aria-role="menubar"][aria-expanded="false"] .nm_wrapperBG{display:none;visibility:hidden;}[aria-role="menubar"] [aria-role="menuitem"] .nm_firstBG,[aria-role="menubar"] [aria-role="menuitemradio"] .nm_firstBG{-webkit-border-radius:0;-moz-border-radius:0;-o-border-radius:0;border-radius:0;}.nm_left[aria-role="menubar"] [aria-role="menu"]:first-child .nm_firstBG,.nm_left[aria-role="menubar"] [aria-role="menuitem"]:first-child .nm_firstBG,.nm_left[aria-role="menubar"] [aria-role="menuitemradio"]:first-child .nm_firstBG,.nm_right[aria-role="menubar"] [aria-role="menu"]:nth-child(2) .nm_firstBG,.nm_right[aria-role="menubar"] [aria-role="menuitem"]:nth-child(2) .nm_firstBG,.nm_right[aria-role="menubar"] [aria-role="menuitemradio"]:nth-child(2) .nm_firstBG,.nm_right[aria-role="menubar"] .nm_lastInGroup[aria-role="menu"] .nm_firstBG,.nm_right[aria-role="menubar"] .nm_lastInGroup[aria-role="menuitem"] .nm_firstBG,.nm_right[aria-role="menubar"] .nm_lastInGroup[aria-role="menuitemradio"] .nm_firstBG,.nm_left[aria-role="menubar"] .nm_firstInGroup[aria-role="menu"] .nm_firstBG,.nm_left[aria-role="menubar"] .nm_firstInGroup[aria-role="menuitem"] .nm_firstBG,.nm_left[aria-role="menubar"] .nm_firstInGroup[aria-role="menuitemradio"] .nm_firstBG{-webkit-border-top-right-radius:.4em;-webkit-border-bottom-right-radius:.4em;-moz-border-radius-topright:.4em;-moz-border-radius-bottomright:.4em;-o-border-top-right-radius:.4em;-o-border-bottom-right-radius:.4em;border-top-right-radius:.4em;border-bottom-right-radius:.4em;border-radius:0 \\0/;}.nm_left[aria-role="menubar"] [aria-role="menu"]:nth-child(2) .nm_firstBG,.nm_left[aria-role="menubar"] [aria-role="menuitem"]:nth-child(2) .nm_firstBG,.nm_left[aria-role="menubar"] [aria-role="menuitemradio"]:nth-child(2) .nm_firstBG,.nm_right[aria-role="menubar"] [aria-role="menu"]:first-child .nm_firstBG,.nm_right[aria-role="menubar"] [aria-role="menuitem"]:first-child .nm_firstBG,.nm_right[aria-role="menubar"] [aria-role="menuitemradio"]:first-child .nm_firstBG,.nm_right[aria-role="menubar"] [aria-role="menu"]:nth-child(1)+li .nm_firstBG,.nm_right[aria-role="menubar"] [aria-role="menuitem"]:nth-child(1)+li .nm_firstBG,.nm_right[aria-role="menubar"] [aria-role="menuitemradio"]:nth-child(1)+li .nm_firstBG,.nm_right[aria-role="menubar"] .nm_firstInGroup[aria-role="menu"] .nm_firstBG,.nm_right[aria-role="menubar"] .nm_firstInGroup[aria-role="menuitem"] .nm_firstBG,.nm_right[aria-role="menubar"] .nm_firstInGroup[aria-role="menuitemradio"] .nm_firstBG,.nm_left[aria-role="menubar"] .nm_lastInGroup[aria-role="menu"] .nm_firstBG,.nm_left[aria-role="menubar"] .nm_lastInGroup[aria-role="menuitem"] .nm_firstBG,.nm_left[aria-role="menubar"] .nm_lastInGroup[aria-role="menuitemradio"] .nm_firstBG{-webkit-border-top-left-radius:.4em;-webkit-border-bottom-left-radius:.4em;-moz-border-radius-topleft:.4em;-moz-border-radius-bottomleft:.4em;-o-border-top-left-radius:.4em;-o-border-bottom-left-radius:.4em;border-top-left-radius:.4em;border-bottom-left-radius:.4em;border-radius:0 \\0/;}.nm_right>[aria-role="menu"],.nm_right>[aria-role="menuitem"],.nm_right>[aria-role="menuitemradio"]{float:right;}.nm_left>[aria-role="menu"],.nm_left>[aria-role="menuitem"],.nm_left>[aria-role="menuitemradio"]{float:left;}.nm_layout_horizontal[aria-role="menubar"] .nm_dropDownMenu{height:auto;margin:0;}.nm_layout_horizontal[aria-role="menubar"] .nm_dropDownMenu.nm_layout_horizontal{display:inline;float:inherit;height:auto;background:none;margin:0;}.nm_left .nm_ie78.nm_dropDownMenu{float:left;}.nm_right .nm_ie78.nm_dropDownMenu{float:right;}.nm_left [aria-role="menu"].nm_layout_horizontal dt{float:left;text-align:left;}.nm_right [aria-role="menu"].nm_layout_horizontal dt{float:right;text-align:right;}.nm_dropDownMenu{margin:0;}.nm_dropDownMenu dt .nm_firstBG{display:block;line-height:2.6em;margin:.3em 0;padding:0 1em;font-weight:bold;min-height:2.6em;}.nm_dropDownMenu.nm_layout_horizontal [aria-role="menuitemradio"]{display:inline;float:left;}.nm_right .nm_dropDownMenu.nm_layout_horizontal [aria-role="menuitemradio"]{float:right;}.nm_dropDownMenu[aria-expanded="false"] [aria-role="menuitemradio"]{display:none;}.nm_dropDownMenu dd{line-height:3.4em;margin:0 .6em;white-space:nowrap;}.nm_ie78 .nm_layout_horizontal.nm_dropDownMenu dd{margin:0 .6em;}.nm_mapSelectorWrap.nm_layout_horizontal .nm_dropDownMenu dd{border-bottom:none;}.nm_dropDownMenu dd.nm_last{border-bottom:none;}.nm_dropDownMenu dd .nm_secondBG{display:inline;padding:.5em 1em;margin:0;}.nm_dropDownMenu dd .nm_icon{display:none;position:absolute;left:1.3em;color:white;margin:.6em 0 0;width:2.3em;height:2.3em;background-color:orange;*margin:0;}.nm_right .nm_icon{position:relative;float:left;left:0;}.nm_dropDownMenu .nm_labelClose{color:#00BBDC;font-weight:bold;line-height:3.4em;padding:0 1.2em;}.nm_dropDownMenu[aria-expanded="false"]{background:none;}.nm_dropdown_arrow{width:0;height:0;border:0;border-top:.4em solid #333;border-right:.4em solid transparent;border-left:.4em solid transparent;display:inline-block;padding:.1em 0 0 0;margin:0 .4em 0;}.nm_layout_horizontal .nm_dropdown_arrow{border-right:.3em solid #333;border-top:.3em solid transparent;border-bottom:.3em solid transparent;border-left:0;padding:0;}.nm_layout_horizontal .nm_dropDownMenu:focus .nm_dropdown_arrow,.nm_layout_horizontal .nm_dropDownMenu:hover .nm_dropdown_arrow{border-right-color:#00BBDC;}.nm_rcMenu{font-family:arial,helvetica,sans;padding-bottom:8px;background-color:#000F1A;zoom:1;position:absolute;z-index:3;width:158px;-moz-border-radius:.4em;-webkit-border-radius:.4em;-o-border-radius:.4em;border-radius:.4em;}.nm_rcMenu,.nm_rcMenu span{color:#fff;font-weight:normal;}.nm_rcMenu .nm_rcMenuItemHeader{zoom:1;padding:10px!important;-moz-border-radius-topleft:.4em;-moz-border-radius-topright:.4em;-webkit-border-top-left-radius:.4em;-webkit-border-top-right-radius:.4em;-o-border-top-left-radius:.4em;-o-border-top-right-radius:.4em;border-top-left-radius:.4em;border-top-right-radius:.4em;color:#fff!important;}.nm_rcMenu .nm_rcMenuItem.top{margin-top:8px;}.nm_rcMenu .nm_rcMenuItem{overflow:hidden;text-align:left;padding:1px 10px 0 10px;cursor:default;}.clickable:hover,.nm_rcMenu.nm_hover .clickable:hover{background-color:#00BBDC;zoom:1;color:#FFF;cursor:pointer;color:#888;}.nm_rcMenu .nm_rcMenuItem.clickable{color:#fff;}.nm_rcMenu .nm_rcMenuSeparator{height:0;margin:8px 10px;border-top:1px solid #333;border-bottom:1px solid #666;line-height:0;font-size:0;}.nm_rcMenu .nm_rcMenuSeparatorHeader{margin-left:0;margin-right:0;margin-top:0;line-height:0;}.nm_rcMenuPin{width:32px;height:32px;background:url("assets/ovi/mapsapi/ui/images/ovi_web/controls.png") no-repeat -76px -60px;position:absolute;}.nm_overviewAnchor{margin:.4em;margin-right:0;float:right;margin-top:-29px;}.nm_overviewWrap{margin-bottom:.3em;overflow:hidden;bottom:inherit;width:3.4em;height:3.4em;-webkit-transition:width .3s ease-in-out,height .3s ease-in-out,margin-top .3s ease-in-out;-moz-transition:width .3s ease-in-out,height .3s ease-in-out,margin-top .3s ease-in-out;-o-transition:width .3s ease-in-out,height .3s ease-in-out,margin-top .3s ease-in-out;-ms-transition:width .3s ease-in-out,height .3s ease-in-out,margin-top .3s ease-in-out;transition:width .3s ease-in-out,height .3s ease-in-out,margin-top .3s ease-in-out;}.nm_overviewWrap.anim{width:300px;height:200px;}.nm_overviewMap{width:0;height:0;border:.1em solid #333;background-color:#EEE;}.nm_overviewButton{position:absolute;float:none;bottom:0;}.nm_left .nm_overviewButton{left:0;}.nm_right .nm_overviewButton{right:0;}.nm_ie78 .nm_overviewButton .nm_gfx{top:0;}.nm_overviewWrap[aria-expanded="false"] .nm_overviewMap{display:none;}.nm_bottom .nm_scalebarTemplate .nm_gfx{margin-top:1.3em;bottom:auto;position:static;}.nm_rulerWrap{margin-bottom:.3em;position:relative;}.nm_rulerButton{width:3.4em;height:3.4em;position:absolute;top:0;}.nm_gfx_ruler_normal,.nm_gfx_ruler_pressed{width:3.4em;height:3.4em;}.nm_rulerWrap[aria-pressed="true"] .nm_rulerButton_icon_normal{display:none;}.nm_rulerWrap[aria-pressed="false"] .nm_rulerButton_icon_pressed{display:none;}';
(function(h){function g(b){var c=q[b];c||a.c("No valid WAI-ARIA name: "+b);return c}var f=h.ui.nokia_generic,c=h.gfx,a=h.util,j=h.dom,b=j.Page,e=h.dom.EventTarget,l=j.mo,d=f.GfxTemplate,n=f.ColorSet,k=h.ui.AbstractUIComponent,m=j.contains,p=ovi.bind,r=ovi.dom.addClass,q={disabled:"aria-disabled",expanded:"aria-expanded",hidden:"aria-hidden",pressed:"aria-pressed",selected:"aria-selected",checked:"aria-checked",valuenow:"aria-valuenow",valuemax:"aria-valuemax",valuemin:"aria-valuemin",busy:"aria-BUSY",
role:"aria-role"},u={},j=b.browser.msie,s=!!(b.browser.msie&&b.browser.version<9),w=b.browser.touch,x=w?"touch":"mouse",y=w?"tap":"click",v=w?"dbltap":"dblclick",z=x+(w?"start":"down"),B=x+(w?"end":"up"),E=x+"move",H=x+"enter",O=x+"leave",T=x+"over";x+="out";var D=b.browser.mobile,G=new c.Painter.defaultPainter,b=new n({background:"",border:"",stroke:"#333",fill:"#333",text:"#333"}),A=new f.ColorScheme({normal:b,disable:new n({stroke:"#999",fill:"#999",text:"#999"},b),focus:new n({stroke:"#0BD",fill:"#0BD",
text:"#0BD"},b),active:new n({stroke:"#0BD",fill:"#0BD",text:"#0BD"},b)}),C=f.UIComponent=new ovi.Class({Extends:h.ui.UIComponent,initialize:function(a){var b=this;b.Q=p(b,b.Q);b.pj=p(b,b.pj);b.P=p(b,b.P);b._super(a);b.cf=["nm_draggable","nm_dragging","nm_pointer","nm_wait"];b.Dc=[];b.lo=[];b.H=[];b.Pi=[];b.Qe=D?1.5:1;b.bf="vertical";b.xb=ovi.bind(b,b.xb);b.tf=ovi.bind(b,b.tf);b.lp=function(){b.Pj()}},Statics:{CSS_CONCEAL:"nm_conceal",EVENT_CLICK:y,EVENT_DBLCLICK:v,EVENT_LONGPRESS:"longpress",EVENT_DOWN:z,
EVENT_UP:B,EVENT_MOVE:E,EVENT_ENTER:H,EVENT_LEAVE:O,EVENT_OUT:x,EVENT_OVER:T,EVENT_DRAGSTART:"dragstart",EVENT_DRAG:"drag",EVENT_DRAGEND:"dragend",EVENT_DROP:"drop",EVENT_FOCUS:"focus",EVENT_BLUR:"blur",EVENT_KEYDOWN:"keydown",LAYOUT_HORIZONTAL:"horizontal",LAYOUT_VERTICAL:"vertical",CSS_CLASS_PREFIX:"nm_",CSS_GFX:"nm_gfx"},attach:function(a){this._super(a);D&&r(this.node,"nm_hover");if(!s&&!this.isCloning)this.node=e(this.node),this.node.addListener(C.EVENT_KEYDOWN,this.xb),this.node.addListener(C.EVENT_BLUR,
this.tf),this.node.setAttribute("tabindex",0)},detach:function(a){!s&&!this.isCloning&&(this.node.removeListener(C.EVENT_KEYDOWN,this.xb),this.node.removeListener(C.EVENT_BLUR,this.tf));this.Fg();this._super(a)},getTemplate:function(){var a=this.mapDisplay,b;if(!a.$ui)a.$ui=k.renderTemplate(a,nokia.maps.resources.ui.nokia_generic.html,this.Nm(nokia.maps.resources.ui.nokia_generic.css,h.loadPath,/url\([\"\']?((\.\.\/)*[a-zA-Z0-9\/\-\_]*[\.][a-zA-Z0-9]{3,})[\"\']?\)/gi)),b=this.getRootNode(),b.style.cssText+=
";font-size:"+this.Qe+"em;",b=b.parentNode.parentNode,b.style.cssText+=";font-size:10px !important;",s&&r(b,"nm_ie78");return a.$ui},Zm:function(a){this.aj?this.Bd(a):(r(this.mapDisplay.G,a),this.ob(a))},setCursorDraggable:function(){this.Zm("nm_draggable")},setCursorPointer:function(){this.Zm("nm_pointer")},setCursorWait:function(){this.Zm("nm_wait")},setCursorDefault:function(){this.aj=0;this.kg();this.Dc.length?this.$m():this.ob()},setCursorDragging:function(){this.aj=1;r(this.mapDisplay.G,"nm_dragging");
this.ob("nm_dragging");this.Bd("nm_draggable");this.Ni=setTimeout(this.lp,1E3)},keepCursorDragging:function(){if(!this.aj)this.setCursorDragging(),this.kg(),this.Ni=setTimeout(this.lp,500)},Bd:function(a){this.Dc.push(a)},$m:function(){var a=this.Dc.pop();r(this.mapDisplay.G,a);this.ob(a);this.Dc=[]},ob:function(a){for(var b=this.cf.length,c=this.mapDisplay.G,d;b--;)(d=this.cf[b])!==a&&ovi.dom.removeClass(c,d)},xb:function(){},tf:function(){},Yo:w?function(a){var b=a.currentTarget,c=this.Pi;c[c.length-
1]!==b&&this.Pi.push(b);a&&a.preventDefault();this.setCssActive(b,!0)}:a.u,Pr:w?function(){var a;if(a=this.Pi[0])this.Pi.shift(),this.setCssActive(a,!1)}:a.u,setCssActive:function(a,b){a&&ovi.dom[b?"addClass":"removeClass"](a,"nm_active")},Pj:function(){this.aj=0;this.ob()},kg:function(){if(this.Ni)clearTimeout(this.Ni),this.Ni=0},show:function(){this.setAria("hidden",!1)},hide:function(){this.setAria("hidden",!0)},showTooltip:function(a,b){var c=this.mapDisplay.getComponentById("Tooltip");(c||this.mapDisplay.components.add(c=
new f.TooltipComponent))&&c.addTooltip(a,b)},hideTooltip:function(){var a=this.mapDisplay.getComponentById("Tooltip");a&&a.removeTooltip()},hiddenSetter:function(a){this.node&&this.node.setAttribute("aria-hidden",!!a);return a},kn:function(a){a.preventDefault();a.stopPropagation()},getAria:function(a,b){var c;c=(b||this.node).getAttribute(g(a));return c==="true"||(c?c==="false"?!1:isNaN(c)&&c||+c:null)},hasAria:function(a,b){return this.getAria(a,b)!==null},hasAriaValue:function(a,b,c){return this.getAria(a,
c)===b},setAria:function(a,b,c){(c||this.node).setAttribute(g(a),b)},conceal:function(){this.set("conceal",!0)},reveal:function(){this.set("conceal",!1)},concealSetter:function(a){this.node&&ovi.dom[a?"addClass":"removeClass"](this.node,"nm_conceal");return!!a},isConcealed:function(a){return ovi.dom.hasClass(a||this.node,"nm_conceal")},zt:function(){ovi.dom.toggleClass(this.node,"nm_conceal")},kt:function(){for(var a=this.lo,b=a.length;b--;)if(this.getAria("expanded",a[b]))break;return b+1},wt:function(){for(var a=
0,b;b=arguments[a++];)this.lo.push(b)},Js:a.u,layoutHorizontal:function(){this.bf="horizontal";this.Ga&&r(this.Ga,"nm_layout_horizontal")},layoutVertical:function(){this.bf="vertical";this.Ga&&ovi.dom.removeClass(this.Ga,"nm_layout_horizontal")},triggerRedraw:j||D?function(a){var b=this,c=a||null;b.set("conceal",!0);setTimeout(function(){b.set("conceal",!1);c&&c.apply(b,[])},50)}:a.u,zr:function(a){var b=this;return function(c,d,e){b.ks(c,d,e,a)}},ks:function(a,b,c,e){var f=a.parentNode,a=u[c]={Ig:a,
fa:f,xo:0,jn:{}},g,h;for(h in e)if((g=e[h])instanceof n)a.jn[h]={Hs:new d(/<svg/.test(b)?b:"<svg xmlns='http://www.w3.org/2000/svg' version='1.1' height='34' width='34'>"+b+"</svg>",g)};this.setGraphics(c,"normal",this.Qe,0,0);this.Eq(f)},Eq:s?function(a){var b=document.createElement("DIV");this.findElement("nm_gfx",a);b.className="nm_cover";a.appendChild(b)}:a.u,initGraphics:function(a,b){b=b==="default"?A:b||{normal:new n};l(a,this.zr(b))},setGraphics:function(a,b,d,e,f){var d=d||this.Qe,e=e||0,
f=f&3||0,g=u[a],b=b?g.jn[b]:g.jn.normal,h=d+"_"+e+"_"+f,j=b[h];j||(j=b[h]=b.Hs.stencil(d,e,f));g.xo===d?G.updateElement(j.getIDL(),g.Ig):(g.Ig.parentNode.replaceChild(b=(new c.GraphicsImage(j)).createElement(),g.Ig),g.Ig=b,g.xo=d,b.className="nm_gfx nm_gfx_"+a);return g.Ig},Ze:function(){for(var a=arguments.length,b;a--;)b=arguments[a],b.addListener(C.EVENT_OVER,this.Q,!0),b.addListener(C.EVENT_DOWN,this.pj,!0),b.addListener(C.EVENT_UP,w?this.P:this.Q,!0),b.addListener(C.EVENT_OUT,this.P,!0)},Fg:function(){for(var a=
arguments.length,b;a--;)b=arguments[a],b.removeListener(C.EVENT_OVER,this.Q,!0),b.removeListener(C.EVENT_DOWN,this.pj,!0),b.removeListener(C.EVENT_UP,w?this.P:this.Q,!0),b.removeListener(C.EVENT_OUT,this.P,!0)},isMouseover:function(a){return!a.relatedTarget||m(a.currentTarget.ownerDocument.documentElement,a.relatedTarget)&&!m(a.currentTarget,a.relatedTarget)},isMouseout:function(a){return!a.relatedTarget||!m(a.currentTarget,a.relatedTarget)},Q:function(a){this.isMouseover(a)&&(a=this.getGraphicsIdByNode(a.currentTarget))&&
this.setGraphics(a,"focus")},P:function(a){this.isMouseout(a)&&(a=this.getGraphicsIdByNode(a.currentTarget))&&this.setGraphics(a,"normal")},pj:function(a){(a=this.getGraphicsIdByNode(a.currentTarget))&&this.setGraphics(a,"active")},getGraphicsIdByNode:function(a){for(var b in u)if(u[b]&&u[b].fa===a)return b},Rj:function(){var a=this.getAria("hidden",this.node),b=["menu","menuitem","menuitemradio"],c=this.node.parentNode.childNodes,d=c.length,e=b.length,f,g=[];f=ovi.dom;var h=f.addClass,j=f.removeClass;
if(d==1)h(this.node,"nm_lastInGroup"),h(this.node,"nm_firstInGroup");else{for(;d--;)if(f=c[d],f.nodeType==1){if(f===this.node&&!a)j(f,"nm_lastInGroup"),j(f,"nm_firstInGroup"),g.push(f);else for(;e--;)if(this.hasAriaValue("role",b[e],f)&&!this.getAria("hidden",f)){j(f,"nm_lastInGroup");j(f,"nm_firstInGroup");g.push(f);break}e=b.length}g.length>0&&(h(g[0],"nm_firstInGroup"),h(g.pop(),"nm_lastInGroup"))}}});h.ui.UIComponent=C})(nokia.maps);ovi.provide("nokia.maps.map.component.Overview");
(function(h){var g=Math,f=g.round,c=g.min;h.map.component.Overview=new ovi.Class({Extends:h.ui.UIComponent,initialize:function(a){this._super(a);this.Sa=ovi.bind(this,this.Sa)},d:"Overview",n:"0.0.0.1",attach:function(a){this._super(a);this.mainBgColor=a.t.style.backgroundColor;a.addObserver("center",this.ee,this);a.addObserver("zoomLevel",this.ie,this);a.addListener("resizeend",this.Sa)},detach:function(a){a.removeObserver("center",this.ee,this);a.removeObserver("zoomLevel",this.ie,this);a.removeListener("resizeend",
this.Sa);this._super(a)},showMap:function(a){if(!this.miniMapDisplay)this.Ve=3,this.miniMapDisplay=new h.map.Display(a,{draggable:!1,parentDisplay:this.mapDisplay,center:this.mapDisplay.center,zoomLevel:this.mapDisplay.zoomLevel-this.Ve})},updateMinimap:function(){this.ee.call(this,null,null,this.mapDisplay.center,null);this.ie.call(this,null,null,this.mapDisplay.zoomLevel,null)},ee:function(a,c,b){this.miniMapDisplay&&this.miniMapDisplay.setCenter(b,"default")},ie:function(a,c,b){this.miniMapDisplay&&
(b=b-this.Ve>=this.miniMapDisplay.minZoomLevel?b-this.Ve:this.miniMapDisplay.minZoomLevel,this.miniMapDisplay.setZoomLevel(b,"default"))},Sa:function(){var a;this.expanded&&(a=this.getMinimapDimensions(),this.resize(a.width,a.height))},getMinimapDimensions:function(){return{width:c(200,f(this.mapDisplay.o.offsetWidth*0.25)),height:c(150,f(this.mapDisplay.o.offsetHeight*0.33))}}})})(nokia.maps);ovi.provide("nokia.maps.map.component.Traffic");
(function(h){h.map.component.Traffic=new ovi.Class({Extends:h.ui.UIComponent,attach:function(g){this._super(g)},detach:function(g){this._super(g)},d:"Traffic",n:"0.0.0.1"})})(nokia.maps);ovi.provide("nokia.maps.map.component.PublicTransport");(function(h){h.map.component.PublicTransport=new ovi.Class({Extends:h.ui.UIComponent,attach:function(g){this._super(g)},detach:function(g){this._super(g)},d:"PublicTransport",n:"0.0.0.1"})})(nokia.maps);ovi.provide("nokia.maps.map.component.TypeSelector");
(function(h){h.map.component.TypeSelector=new ovi.Class({Extends:h.ui.UIComponent,attach:function(g){this._super(g);this.updateType&&this.mapDisplay.addObserver("baseMapType",this.updateType,this)},detach:function(g){this.updateType&&this.mapDisplay.removeObserver("baseMapType",this.updateType,this);this._super(g)},d:"TypeSelector",n:"0.0.0.1"})})(nokia.maps);ovi.provide("nokia.maps.map.component.InfoBubbles");
(function(h){var g=h.util;h.map.component.InfoBubbles=new ovi.Class({Extends:h.ui.UIComponent,ALIGNMENT_LEFT:"left",ALIGNMENT_RIGHT:"right",ALIGNMENT_ABOVE:"above",ALIGNMENT_BELOW:"below",DIMENSION_AUTO:"auto",openBubbleHandles:null,initialize:function(){var f=this;f._super();f.th=function(){f.ll()};f.sh=function(){f.kh();f.kl()};f.hh=function(c){var a=c.target;a.$locationData?(f.addBubble(a.$locationData),c.preventDefault()):a.metaData&&a.metaData.Search&&(f.addBubble(a.metaData.Search),c.preventDefault())};
f.ea=function(){f.kh()};f.Ch={};f.openBubbleHandles=new g.OList;f.set("options",new g.OObject({defaultXAlignment:"right",defaultYAlignment:"below",defaultWidth:"auto",defaultHeight:"auto",autoClose:!0}))},d:"InfoBubbles",n:"0.0.0.1",wh:function(f,c,a){if(c==="remove"&&(f=this.Ch[a]))delete this.Ch[a],delete f.dr},attach:function(f){this._super(f);this.set("openHandlesList",this.openBubbleHandles);h.map.plugin&&f instanceof h.map.plugin.Display?(f.addListener("mapviewchangestart",this.th),f.addListener("mapviewchangeend",
this.sh)):(f.addListener("resize",this.ea,this),f.addListener("resizeend",this.ea,this),f.addObserver("center",this.ea,this),f.addObserver("zoomLevel",this.ea,this),f.addListener("mapviewchangeend",this.ea));f.addListener("click",this.hh);this.openBubbleHandles.addObserver(this.wh,this)},detach:function(f){for(var c=this.openBubbleHandles,a=c.getLength();a--;)this.removeBubble(c.get(a));h.map.plugin&&f instanceof h.map.plugin.Display?(f.removeListener("mapviewchangestart",this.th),f.removeListener("mapviewchangeend",
this.sh)):(f.removeListener("resize",this.ea,this),f.removeListener("resizeend",this.ea,this),f.removeObserver("center",this.ea,this),f.removeObserver("zoomLevel",this.ea,this),f.removeListener("mapviewchangeend",this.ea));f.removeListener("click",this.hh);this.openBubbleHandles.removeObserver(this.wh,this);this.set("openHandlesList",null);this.options.style=null;this._super(f)},addBubble:function(f,c){return this.openBubble(f,c)},removeBubble:function(f){this.closeBubble(f)},bubbleExists:function(f){if(!this.openBubbleHandles)return!1;
return this.openBubbleHandles.indexOf(f)>=0}})})(nokia.maps);ovi.provide("nokia.maps.map.component.ZoomBar");(function(h){h.map.component.ZoomBar=new ovi.Class({Extends:h.ui.UIComponent,attach:function(g){this._super(g);this.updateZoomLevel&&this.mapDisplay.addObserver("zoomLevel",this.updateZoomLevel,this)},detach:function(g){this.updateZoomLevel&&this.mapDisplay.removeObserver("zoomLevel",this.updateZoomLevel,this);this._super(g)},d:"ZoomBar",n:"0.0.0.1"})})(nokia.maps);ovi.provide("nokia.maps.map.component.ContextMenu");
(function(h){function g(a,b){var c="",f=b.street?b.street:"",g=b.house?b.house:"",h=b.city?b.city:"",j=b.postalCode?b.postalCode:"",r=b.countryCode?b.countryCode:"";f+g&&(c=f+" "+g+"<br/>");j+h&&(c+=j+" "+h+", ");c+=c?b.countryCode?b.countryCode:"":(r?r+", ":"")+(b.country?b.country:"");a.innerHTML=c;this.jh(this.x,this.y)}function f(a,b){var c=this;nokia.places.search.manager.reverseGeoCode({latitude:b.latitude,longitude:b.longitude,onComplete:function(b,f){b&&f==="OK"&&b.location&&g.call(c,a,b.location.address)}})}
function c(a,b){var c=this,f=new h.advsearch.Manager,j;f.addObserver("state",function(b){b.state==="finished"&&(j=b.locations[0])&&g.call(c,a,j.address)});f.reverseGeocode(b)}var a=ovi.platform.mac,j=nokia.maps.dom.Page.browser.touch?"tap":"click",b=h.util;h.map.component.ContextMenu=new ovi.Class({Extends:h.ui.UIComponent,d:"ContextMenu",n:"0.0.0.0",initialize:function(){var a=h.util.getRootNameSpace("nokia");this.Ob=new ovi.Array;this.Wg=new ovi.Array;this.lb=ovi.bind(this,this.lb);this.addHandler(h.map.component.ContextMenu.zoomHandler);
(a.places||h.advsearch&&h.advsearch.Manager)&&this.setHeader(h.map.component.ContextMenu.reverseGeocodingHandler);h.routing&&h.routing.component&&this.addHandler(h.routing.component.ContextMenuHandler)},Statics:{Group:new ovi.Class({initialize:function(){this.B=[]},addEntry:function(a,b,c){this.B.push({Mc:a,bg:b,li:c})},gr:function(){return this.B.length}}),zoomHandler:function(a,b){var c;if(a.target instanceof nokia.maps.map.Display)c=a.target.zoomLevel,b.addEntry("__i18n_rightClickMenu.zoomIn__",
c<a.target.maxZoomLevel?function(){this.mapDisplay.setZoomLevel(c+1)}:null,!0),b.addEntry("__i18n_rightClickMenu.zoomOut__",c>a.target.minZoomLevel?function(){this.mapDisplay.setZoomLevel(c-1)}:null,!0)},reverseGeocodingHandler:function(a){var b=h.util.getRootNameSpace("nokia"),d=this.mapDisplay.pixelToGeo(this.x,this.y);b.places?f.call(this,a,d):h.advsearch.Manager&&c.call(this,a,d)}},attach:function(b){this._super(b);this.mapDisplay.addListener(a?"contextmenu":"click",this.lb);this.mapDisplay.addListener("longpress",
this.lb);this.mapDisplay.addListener("mapviewchangestart",this.Ja);this.node.addListener(j,this.Wc);this.ja.addListener(j,this.Wc);this.hide()},detach:function(b){this.mapDisplay.removeListener(a?"contextmenu":"click",this.lb);this.mapDisplay.removeListener("longpress",this.lb);this.mapDisplay.removeListener("mapviewchange",this.Ja);this.node.addListener(j,this.Wc);this.ja.addListener(j,this.Wc);this._super(b)},addHandler:function(a){typeof a!=="function"&&b.c();return this.Ob.indexOf(a)<0&&this.Ob.push(a)&&
!0},removeHandler:function(a){a=this.Ob.indexOf(a);return a>=0&&this.Ob.splice(a,1)&&!0},setHeader:function(a,b){this.El={Mc:a,li:b}},Wc:function(a){a.button===2&&a.preventDefault()},lb:function(a){this.x=a.displayX;this.y=a.displayY;if(a.type=="longpress"||a.type==="contextmenu"||a.button===2){a.preventDefault();var b=this.Ob,c=b.length,f=this.Wg,g,j=h.map.component.ContextMenu.Group;for(f.length=0;c--;)b[c].call(this,a,g=new j),g.B.length&&f.push(g);f.length&&this.bn(a)}}})})(nokia.maps);ovi.provide("nokia.maps.ui.nokia_generic.OverviewComponent");
(function(h){var g=h.ui.nokia_generic,f=h.dom.EventTarget,c=g.UIComponent.EVENT_CLICK,a=Math,j=a.pow,b=a.round;g.OverviewComponent=new ovi.Class({Extends:h.map.component.Overview,build:function(){var a=ovi.bind;this._super("nm_overviewWrap");this.M=f(this.findElement("nm_overviewButton",this.node));this.lc=this.findElement("nm_overviewMap");this.Ba=a(this,this.Ba);this.Fe=a(this,this.Fe);this.Vh=new h.ui.common.Animator(this.Fe,0.6)},attach:function(a){this._super(a);a=this.M;this.mainBgColor&&(this.lc.style.backgroundColor=
this.mainBgColor);this.initGraphics(a,"default");this.Ze(a);a.addListener(c,this.Ba);this.Ah();this.set("conceal",!1);this.triggerRedraw()},detach:function(a){var b=this.M;this.set("conceal",!1);this.Fg(b);b.removeListener(c,this.Ba);this._super(a);this.triggerRedraw()},xb:function(a){a.nativeEvent.keyCode===13&&this.Ba()},Ba:function(){this.expanded?this.collapse():this.expand();this.setCursorDefault()},expandedSetter:function(a){a?(this.setAria("expanded",!0,this.node),this.showMap(this.lc),this.Gg=
this.getMinimapDimensions(),this.Wh=!1,this.resize(this.Gg.width,this.Gg.height)):(this.setAria("expanded",!1,this.node),this.Wh=!0,this.resize(0,0),this.node.removeAttribute("style"),this.lc.removeAttribute("style"));return a},resize:function(a,b){var c=this.lc,f=this.node;c.style.width=f.style.width=a+"px";c.style.height=f.style.height=b+"px";f.style.marginTop=-b+1+"px"},eo:0,bo:0,pp:function(a,b){this.Xh=!1;this.Np=this.eo;this.Kp=this.bo;this.Nq=a-this.Np;this.Lq=b-this.Kp;this.Vh.stop();this.Vh.start();
this.lm()},Fe:function(a){var c=-2*j(a,3)+3*j(a,2),d=this.Lq*c;this.Mm(b(this.Np+this.Nq*c),b(this.Kp+d));if(a==1)this.Xh=!0,this.km(),this.updateMinimap()},Mm:function(a,b){var c=this.lc,f=this.node;if(!this.Xh)if(this.Ah(),a+9<=27||b+10<=31){if(this.Wh)c.style.width=c.style.height=f.style.width=f.style.height=f.marginTop="",c.style.top="-29px",this.setAria("expanded",!1,this.node)}else this.eo=a,this.bo=b,c.style.width=f.style.width=a+"px",c.style.height=f.style.height=b+"px",c.style.top=-b+"px",
f.style.marginTop=-b+1+"px"},lm:function(){var a=new h.dom.Event;a.type="resizestart";a.target=this;this.dispatch(a)},Ah:function(){var a=new h.dom.Event;a.type="resize";a.target=this;this.dispatch(a)},km:function(){var a=new h.dom.Event;a.type="resizeend";a.target=this;this.dispatch(a)}});h.map.component.Overview=g.OverviewComponent})(nokia.maps);ovi.provide("nokia.maps.ui.nokia_generic.PublicTransportAndTrafficMixin");
(function(h){var g=h.ui.nokia_generic,f=h.dom.EventTarget,c=g.UIComponent,h=h.dom.Page,a=!!(h.browser.msie&&h.browser.version<9),j=c.EVENT_CLICK;g.PublicTransportAndTrafficMixin=new ovi.Class({initialize:function(){this.Ui=!1},build:function(){var a=ovi.bind;this._super(c.CSS_CLASS_PREFIX+this.Yg);this.M=f(this.node);this.yb=a(this,this.yb);this.Ta=a(this,this.Ta)},nd:function(){var a=this.mapDisplay;this.initGraphics(this.M,"default");a.addObserver("baseMapType",this.sf,this);a.availableBaseMapTypes.addObserver(this.sc,
this);a.addObserver("zoomLevel",this.sc,this);a.addListener("resizeend",this.Ta);this.sc();this.set("conceal",!1);this.Rj()},detach:function(a){var c=this.M,f=this.mapDisplay;f.baseMapType===this.Ia&&f.set("baseMapType",f.NORMAL);this.Ia=null;c.removeListener(j,this.yb);a.removeObserver("baseMapType",this.sf,this);a.availableBaseMapTypes.removeObserver(this.sc,this);a.removeObserver("zoomLevel",this.sc,this);a.removeListener("resizeend",this.Ta);this.set("conceal",!0);this.setAria("disabled",null,
this.node);this._super(a);this.Rj();this.Ui=!1},sf:function(a,c,f,d){this.Ui?this.Ui=!1:d===a.SATELLITE||d===a.TERRAIN?(a=this.getAria("pressed",this.M)?!0:!1,c=this.of(),a&&c?this.mapDisplay.set("baseMapType",this.Ia):this.Nd(c)):f===this.Ia?(this.setAria("pressed",!0,this.M),this.Nd(!0)):f===a.TRAFFIC||f===a.SMART_PT||f===a.NORMAL?(this.setAria("pressed",!1,this.M),this.Nd(!0),this.mk()):this.Nd(!1)},sc:function(){var a=this.mapDisplay,c=this.Ia,f=this.of();if(!f&&this.getAria("pressed",this.M))this.Ui=
!0;a.baseMapType==c&&!f&&a.set("baseMapType",a.NORMAL);a.baseMapType==a.NORMAL&&f&&this.getAria("pressed",this.M)&&a.set("baseMapType",c);this.Nd(f)},of:function(){var a=this.mapDisplay,c=this.Ia,f=a.baseMapType;return a.availableBaseMapTypes.indexOf(c)>=0&&a.zoomLevel>=c.minDataZoomLevel&&a.zoomLevel<=c.maxDataZoomLevel&&(f===a.NORMAL||f===a.SMART_PT||f===a.TRAFFIC)},yb:function(){var a=this.mapDisplay,c=this.Ia;a.set("baseMapType",a.baseMapType===c?a.NORMAL:c)},Nd:function(b){var c=this.M,f=this.getAria("disabled",
c);this.mk();f!==!b&&(this.setAria("disabled",!b,this.node),b?(c.addListener(j,this.yb),this.Ze(c),a||this.node.setAttribute("tabindex",0)):b===!1&&(c.removeListener(j,this.yb),this.Fg(c),a||this.node.removeAttribute("tabindex")))},mk:function(){var a=this.of(),c=this.mapDisplay.baseMapType==this.Ia,f=this.Yg;this.setCssActive(this.node,c);a?c?this.setGraphics(f,"active"):this.setGraphics(f,"normal"):this.setGraphics(f,"disable")},P:function(a){this.getAria("pressed",this.M)||this._super(a)},xb:function(a){a.nativeEvent.keyCode===
13&&this.yb()},Ta:function(){var a=this.Ia,c=this.getRootNode().parentNode.parentNode,f=c.clientWidth/this.Qe,a=a===this.mapDisplay.TRAFFIC?312:276;c.clientHeight/this.Qe<356?f<a?this.setAria("hidden",!0):this.setAria("hidden",!1):this.setAria("hidden",!1)}})})(nokia.maps);ovi.provide("nokia.maps.ui.nokia_generic.TrafficOverlayMixin");ovi.provide("nokia.maps.ui.nokia_generic.TrafficMixin");
(function(h){h=h.ui.nokia_generic;h.TrafficMixin=new ovi.Class({Extends:h.PublicTransportAndTrafficMixin,Dl:function(){return this.mapDisplay.overlays.indexOf(this.Ia)!==-1},yb:function(){var g=this.mapDisplay,f=this.Ia,c=this.Yg;this.Dl()?(g.overlays.remove(f),this.setAria("pressed",!1,this.M),this.setGraphics(c,"normal")):(g.overlays.add(f),this.Nd(!0),this.setAria("pressed",!0,this.M),this.setGraphics(c,"active"))},sf:function(){},of:function(){var g=this.mapDisplay,f=this.Ia;return g.availableOverlays.indexOf(f)!==
-1&&g.zoomLevel>=8&&g.zoomLevel<=f.maxDataZoomLevel},sc:function(){var g=this.mapDisplay,f=this.Ia,c=this.of();this.getAria("pressed",this.M)&&(!c&&this.Dl()?g.overlays.remove(f):c&&!this.Dl()&&g.overlays.add(f));this.Nd(c)},mk:function(){var g=this.of(),f=this.getAria("pressed",this.M),c=this.Yg;this.setCssActive(this.node,f);g?f?this.setGraphics(c,"active"):this.setGraphics(c,"normal"):this.setGraphics(c,"disable")}})})(nokia.maps);ovi.provide("nokia.maps.ui.nokia_generic.TrafficComponent");
(function(h){var g=h.ui.nokia_generic;g.TrafficComponent=new ovi.Class({Extends:h.map.component.Traffic,Mixins:[g.TrafficMixin],initialize:function(f){this._super(f);this.Yg="traffic";this.Ia=null},attach:function(f){this._super(f);this.Ia=f.TRAFFIC;this.nd()}});h.map.component.Traffic=g.TrafficComponent})(nokia.maps);ovi.provide("nokia.maps.ui.nokia_generic.PublicTransportComponent");
(function(h){var g=h.ui.nokia_generic;g.PublicTransportComponent=new ovi.Class({Extends:h.map.component.PublicTransport,Mixins:[g.PublicTransportAndTrafficMixin],initialize:function(f){this._super(f);this.Yg="publicTransport";this.Ia=null},attach:function(f){this._super(f);this.Ia=f.SMART_PT;this.nd()}});h.map.component.PublicTransport=g.PublicTransportComponent})(nokia.maps);ovi.provide("nokia.maps.ui.nokia_generic.MapSelectorComponent");
(function(h){var g=h.ui.nokia_generic,f=h.util,c=h.dom,a=c.EventTarget,j=g.UIComponent,b=c.Page,e=f.Point,l=g.SpaceManager,d=ovi.dom.addClass,n=ovi.dom.removeClass,k=ovi.browser.msie&&ovi.browser.version<9?"innerText":"textContent",m=j.EVENT_CLICK,p=j.EVENT_BLUR,r=j.LAYOUT_VERTICAL,q=!!(b.browser.msie&&b.browser.version<9),u=ovi.Array.indexOf,s="DIV DD DT DL LI UL".split(" ");g.MapSelectorComponent=new ovi.Class({Extends:h.map.component.TypeSelector,Le:null,width:0,build:function(){this._super("nm_mapSelectorWrap");
var b=this.mapDisplay,c=ovi.bind;this.Ga=this.node;var d=this.Ho=a(this.findElement("nm_menuItemMapType",this.node)),e=this.vq=a(this.findElement("nm_labelOpen nm_firstBG",this.node)),b=this.he=[{node:a(this.findElement("nm_normal",this.node)),type:b.NORMAL},{node:a(this.findElement("nm_satellite",this.node)),type:b.SATELLITE},{node:a(this.findElement("nm_terrain",this.node)),type:b.TERRAIN}],f=b.length;this.contract=c(this,this.contract);this.lj=c(this,this.lj);for(e.i18n={title:e.getAttribute("title")};f--;)e=
b[f],e.onClick=c(this,this.Oo,e),e.textNode=this.findElement("nm_secondBG",e.node),e.i18n=e.textNode.innerHTML;a(this.node).disableUserSelect();this.yb=c(this,this.yb);this.Ta=c(this,this.Ta);c=this.findElement("nm_labelOpen",d);this.Io={node:c,i18n:c[k]};c=this.findElement("nm_labelClose",d);this.xr={node:c,i18n:c[k]};this.hide();this.onLanguageChange();this.Ta();this.contract()},attach:function(a){this._super(a);var b=this.mapDisplay,c=this.he,d=c.length;this.Ho.addListener(m,this.yb);for(b.addObserver("baseMapType",
this.mn,this);d--;)c[d].node.addListener(m,c[d].onClick);this.mn(a,"baseMapType",a.baseMapType);this.Le=l.getSpaceManager(a);this.ys();b.addListener("resizestart",this.contract);b.addListener("resizeend",this.Ta);this.show();this.set("conceal",!1);this.Rj()},detach:function(a){var b=this.mapDisplay,c=this.Ga,d=this.he,e=d.length;this.Ho.removeListener(m,this.yb);c.removeListener(p,this.contract);b.removeObserver("baseMapType",this.mn,this);b.removeListener("resizestart",this.contract);for(b.removeListener("resizeend",
this.Ta);e--;)d[e].node.removeListener(m,d[e].onClick);this.Le.removeComponent(this.getId());this.hide();this._super(a);this.Rj()},expand:function(){var b=this.Le,c=this.node,e=c.parentNode,f=window.document;b&&b.setActiveState(this.getId(),"1");this.setAria("expanded",!0,c);this.setAria("expanded",!0,e);this.bf===r&&d(e,"nm_openVertSelector");f=a(f);f.addListener(m,this.lj);this.triggerRedraw()},contract:function(){var a=this.Le,b=this.node,c=b.parentNode,d=window.document;a&&a.setActiveState(this.getId(),
"0");this.setAria("expanded",!1,b);this.setAria("expanded",!1,c);this.bf===r&&n(c,"nm_openVertSelector");d.removeListener&&d.removeListener(m,this.lj);this.triggerRedraw()},mn:function(a,b,c){a=this.he;for(b=a.length;b--;)a[b].type===c&&this.zp(a[b])},zp:function(a){var b=this.Io.node,c=this.jq;c&&this.setAria("checked",!1,c.node);this.jq=a;this.setAria("checked",!0,a.node);q?b[k]=a.textNode.innerHTML:b.firstChild[k]=a.textNode.innerHTML},lj:function(a){c.contains(this.node,a.target)||this.tf()},
tf:function(){if(!this.Dd)this.Dd=null,this.getAria("expanded",this.node)&&this.contract(),this.hf();this.Dd=null},xb:function(a){var b=a.target,c=a.nativeEvent.keyCode,d=this.bf,e=j.LAYOUT_HORIZONTAL,f=j.LAYOUT_VERTICAL,g=this.he,h,k;this.Dd=b;if(b===this.Ga)switch(c){case 40:g[0].node.focus();break;case 38:g[g.length-1].node.focus();break;case 37:g[0].node.focus();break;case 39:g[g.length-1].node.focus();break;case 13:this.getAria("expanded",this.node)?this.contract():this.expand();this.hf();break;
case 9:this.Dd=null,this.hf()}else{for(k=h=this.he.length;k--;)if(g[k].node===b)break;switch(c){case 40:if(d===e)break;k+=1;k===h?g[0].node.focus():g[k].node.focus();break;case 38:if(d===e)break;k-=1;k<0?g[h-1].node.focus():g[k].node.focus();break;case 37:if(d===f)break;k+=1;k===h?g[0].node.focus():g[k].node.focus();break;case 39:if(d===f)break;k-=1;k<0?g[h-1].node.focus():g[k].node.focus();break;case 13:this.Oo(g[k],a);break;case 9:this.Dd=null,this.hf()}}},yb:function(a){this.getAria("expanded",
this.node)?this.contract():this.expand();this.Dd=a.currentTarget;this.hf()},Oo:function(a,b){this.Dd=b.currentTarget;this.mapDisplay.set("baseMapType",a.type);this.zp(a)},onLanguageChange:function(){var a;a=this.vq;var b=this.Io,c=this.xr,d=this.he,e=d.length;a.title=this.translateHtml(a.i18n.title);b.node.innerHTML=this.translateHtml(b.i18n);c.node.innerHTML=this.translateHtml(c.i18n);q?b.node[k]=this.translateHtml(b.i18n):b.node.firstChild[k]=this.translateHtml(b.i18n);for(c.node[k]=this.translateHtml(c.i18n);e--;)a=
d[e].textNode,a.innerHTML=this.translateHtml(d[e].i18n);this.hf()},hf:q?function(){var a=this.node,b=a.parentNode,c=b.childNodes,d=0,e,f=a.childNodes,g=f.length,h;h=this.getAria("expanded",a);var a=this.bf===j.LAYOUT_VERTICAL,k=0;if(h){for(;g--;)e=f[g],u(s,e.nodeName)>0&&!this.getAria("hidden",e)&&(h=e.currentStyle||window.getComputedStyle(e),e=e.offsetWidth-0,e+=h&&(h.marginLeft.slice(0,-2)-0)*10||0,e+=h&&(h.marginRight.slice(0,-2)-0)*10||0,a?d=k=e>k?e+2:k:(d+=e,d+=2));for(g=c.length;g--;)if(e=c[g],
e.nodeName==="LI")f=e.offsetWidth,d+=f;b.style.width=d/10+"em"}else b.style.width="auto"}:f.u,ys:function(){var a=this.Le,b=this.Ga,c=this.mapDisplay,d=ovi.dom.offset(b,c.o),f;a.registerSpace(this.getId(),"0",f=new e(d.left,d.top),f.add(new e(b.offsetWidth,b.offsetHeight)));this.expand();d=ovi.dom.offset(b,c.o);a.registerSpace(this.getId(),"1",f=new e(d.left,d.top),f.add(new e(b.offsetWidth,b.offsetHeight)));this.contract()},Ta:function(){var a=this.getRootNode().parentNode.parentNode,c=a.clientHeight/
this.Qe,a=a.clientWidth/this.Qe,d=this.he[2].node,e=b.platform.ipad||b.platform.iphone,f=b.browser.fullVersion.replace(".","").substring(0,2),f=e&&f>=51;c<413?(this.layoutHorizontal(),a<368?this.setAria("hidden",!0,d):this.setAria("hidden",!1,d)):(!f&&e?this.layoutHorizontal():this.layoutVertical(),this.setAria("hidden",!1,d));this.triggerRedraw()}});h.map.component.TypeSelector=g.MapSelectorComponent})(nokia.maps);ovi.provide("nokia.maps.ui.nokia_generic.ContextMenuComponent");
(function(h){var g=nokia.maps.ui.nokia_generic,f=h.util,c=h.dom.EventTarget,a=g.UIComponent,j=h.map.component.ContextMenu,b=ovi.dom.addClass;nokia.maps.ui.nokia_generic.ContextMenuComponent=new ovi.Class({Extends:j,Statics:{zoomHandler:j.zoomHandler,reverseGeocodingHandler:j.reverseGeocodingHandler,routingHandler:j.routingHandler,Group:j.Group},Jh:32,Ih:32,build:function(){this._super("nm_rcMenu");parentNode=this.node.parentNode;node=this.node=c(this.node.cloneNode(!0));parentNode.appendChild(node);
this.Qd=node.removeChild(this.findElement("nm_rcMenuItem"),node);this.wd=node.removeChild(this.findElement("nm_rcMenuSeparator"),node);this.ja=c(node.parentNode.appendChild(this.findElement("nm_rcMenuPin"),node));this.Ja=ovi.bind(this,this.Ja);this.hide=ovi.bind(this,this.hide)},bn:function(e){var f=this,d=f.node,g=c(d.ownerDocument),h=f.Wg,j,p=h.length,r,q,u,s;d.innerHTML="";if((r=f.El)&&!e.target.isRoutingMarker&&!(e.target instanceof nokia.maps.map.Marker))u=f.Qd.cloneNode(!0),b(u,"nm_rcMenuItemHeader"),
f.Jg(u,r,g,!0),d.appendChild(u),b(d.appendChild(f.wd.cloneNode(!0)),"seperator-header");for(;p--;){j=h[p];j=j.B;for(s=0;s<j.length;s++)q=j[s],u=f.Qd.cloneNode(!0),!r&&p===h.length-1&&s===0&&b(u,"top"),e.target.isRoutingMarker&&e.target instanceof nokia.maps.map.Marker&&h.length===1&&j.length==1&&b(u,"top"),f.Jg(u,q,g),q.bg&&this.ok(u,q),d.appendChild(u);p&&d.appendChild(f.wd.cloneNode(!0))}g.addListener(a.EVENT_DOWN,function(a){f.fi(a.target)||f.Ja()},!0);f.show();f.jh(e.displayX,e.displayY)},Jg:function(a,
b,c,g){var h=b.Mc;switch(typeof b.Mc){case "string":a.appendChild(c.createTextNode(b.li?this.translateHtml(h):h));break;case "function":b.Mc.call(this,a);break;default:f.Ms("ContextMenu.Group."+(g?"header":"entry")+" label must be either a string or a function")}},ok:function(e,f){var d=this;c(e).addListener(a.EVENT_CLICK,function(a){d.Ja();f.bg.call(d,a)});b(e,"clickable")},fi:function(a){for(var b=this.node,c;c=a.parentNode;){if(c==b)return!0;a=a.parentNode}return!1},jh:function(a,b){var c=this.node,
f=c.offsetWidth,g=c.offsetHeight,h=this.mapDisplay,j=h.width,h=h.height;this.ja.style.left=a-this.Jh/2+"px";this.ja.style.top=b-this.Ih/2+"px";c.style.left=j-a<f?a-f+"px":a+"px";c.style.top=h-b<g?b-g+"px":b+"px"},Ja:function(){this.node.ownerDocument.removeListener(a.EVENT_DOWN,this.Ja,!0);this.mg();this.Ic=setTimeout(this.hide,150)},hide:function(){this._super();this.Ic=!1;this.ja.style.display="none";this.triggerRedraw()},show:function(){this.mg();this._super();this.ja.style.display="";this.triggerRedraw()},
mg:function(){this.Ic&&clearTimeout(this.Ic);this.Ic=null}});h.map.component.ContextMenu=g.ContextMenuComponent})(nokia.maps);ovi.provide("nokia.maps.ui.nokia_generic.ZoomBarComponent");
(function(h){var g=h.ui.nokia_generic,f=h.dom.EventTarget,c=g.UIComponent,a=g.SpaceManager,j=h.util.cb,b=ovi.bind,e=Math.floor,l=Math.ceil,d=c.EVENT_DOWN,n=c.EVENT_UP,k=c.EVENT_OUT;g.ZoomBarComponent=new ovi.Class({Extends:h.map.component.ZoomBar,build:function(){this._super("nm_zoomWrap");this.disableUserSelect();this.Dt=this.node;this.zi=f(this.findElement("nm_zoomIn"),this.node);this.Ai=f(this.findElement("nm_zoomOut"),this.node);this.Nf=b(this,this.Nf);this.Of=b(this,this.Of);this.qc=b(this,this.qc);
this.hide();this.Js()},attach:function(c){this._super(c);var e=this.zi,f=b(e,e.addListener),g=this.Ai,h=b(g,g.addListener);b(c,c.addObserver);this.initGraphics(e,"default");this.initGraphics(g,"default");this.Ze(e,g);f(d,this.Nf);f(n,this.qc);f(k,this.qc);h(d,this.Of);h(n,this.qc);h(k,this.qc);this.Le=a.getSpaceManager(c);this.show();this.set("conceal",!1)},detach:function(a){var b=this.zi,c=this.Ai;this._super(a);b.removeListener(d,this.Nf);b.removeListener(n,this.qc);c.removeListener(d,this.Of);
c.removeListener(n,this.qc);this.Fg(b,c);this.Le.removeComponent(this.getId());this.hide();this.set("conceal",!0)},show:function(){this._super()},hg:function(a,b){var c=this.mapDisplay,d=(b?e:l)(a);c&&(d=j(d+(d===a)*(b?-1:1),c.minZoomLevel,c.maxZoomLevel),c.set("zoomLevel",d))},Op:function(a,b){this.kc=window.setInterval(b?this.Of:this.Nf,1E3,a)},qc:function(a){var b=this.kc;if(b)window.clearInterval(b),this.kc=null;this.Pr(a)},Nf:function(a){this.Yo(a);this.hg(this.mapDisplay.zoomLevel);this.kc||
this.Op(a)},Of:function(a){this.Yo(a);this.hg(this.mapDisplay.zoomLevel,!0);this.kc||this.Op(a,!0)},xb:function(a){var b=a.nativeEvent.keyCode;if(b===38||b===43||b===107)this.Nf(a),this.qc(a);else if(b===40||b===45||b===109)this.Of(a),this.qc(a)}});h.map.component.ZoomBar=g.ZoomBarComponent})(nokia.maps);ovi.provide("nokia.maps.positioning.component.Positioning");
(function(h){h.positioning.component.Positioning=new ovi.Class({Extends:h.ui.UIComponent,initialize:function(g){this._super(g);this.responseHandler=ovi.bind(this,this.responseHandler);this.DEFAULT_SVG_MARKER_SRC='<svg xmlns="http://www.w3.org/2000/svg" width="34" version="1.1" height="34" baseProfile="tiny" xmlns:xlink="http://www.w3.org/1999/xlink" id="svg2"><path d="m 25.489083,17 c 0,4.688377 -3.800705,8.489083 -8.489083,8.489083 C 12.311621,25.489083 8.510917,21.688377 8.510917,17 c 0,-4.688377 3.800704,-8.489083 8.489083,-8.489083 c 4.688378,0 8.489083,3.800706 8.489083,8.489083 z" id="path3761" style="color:#000000;fill:#ffffff;fill-opacity:0.50196078;stroke:none;stroke-width:1.02183414;marker:none;visibility:visible;display:inline;overflow:visible;enable-background:accumulate" /><path d="m 25.489083,17 c 0,4.688377 -3.800705,8.489083 -8.489083,8.489083 C 12.311621,25.489083 8.5109169,21.688377 8.5109169,17 C 8.5109169,12.311623 12.311621,8.510917 17,8.510917 c 4.688378,0 8.489083,3.800706 8.489083,8.489083 z" id="path5230" style="color:#000000;fill:none;stroke:#00bbdc;stroke-width:1.02183414;stroke-linecap:butt;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0;marker:none;visibility:visible;display:inline;overflow:visible;enable-background:accumulate" /><path d="m 22,17 c 0,2.761417 -2.238583,5 -5,5 c -2.761417,0 -5,-2.238583 -5,-5 c 0,-2.761417 2.238583,-5 5,-5 c 2.761417,0 5,2.238583 5,5 z" id="path3218" style="color:#000000;fill:#00bbdc;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:1;marker:none;visibility:visible;display:inline;overflow:visible;enable-background:accumulate" /></svg>'},
d:"Positioning",n:"0.0.0.1",accuracyCircle:null,build:function(g){g&&this._super(g)},removeCircle:function(){this.accuracyCircle&&this.mapDisplay.objects.remove(this.accuracyCircle);this.accuracyCircle=null;this.positionMarker&&this.mapDisplay.objects.remove(this.positionMarker);this.positionMarker=null},detach:function(g){this.removeCircle();this._super(g)},requestPosition:function(g,f){var c=this,a;h.positioning.Manager&&(a=new h.positioning.Manager,a.getCurrentPosition(function(a){c.responseHandler(a);
g(a)},f))},responseHandler:function(g){var f=g.coords,g=new h.map.Circle(f,f.accuracy,this.Un||{}),c=new h.gfx.SvgParser,c=new h.gfx.GraphicsImage(c.parseSvg(this.DEFAULT_SVG_MARKER_SRC)),f=new h.map.Marker(f,{icon:c,anchor:[c.width/2,c.height/2]});this.removeCircle();this.showPosition(g,f);this.accuracyCircle=g;this.positionMarker=f},showPosition:function(g,f){this.mapDisplay.objects.addAll([g,f]);this.mapDisplay.zoomTo(g.getBoundingBox(),!1)}})})(nokia.maps);ovi.provide("nokia.maps.ui.nokia_generic.InfoBubbleComponent");
(function(h){function g(a){a.hc()}function f(a){a.hc()}var c=h.ui.nokia_generic,a=c.UIComponent.EVENT_CLICK,j=h.util,b=h.dom.EventTarget,e=j.c,l=h.dom.Page,d=!!(l.browser.msie&&l.browser.version==8),n=h.dom.findElement,k={x:16,y:16},m={x:20,y:16},p=c.InfoBubbleComponent=new ovi.Class({Extends:h.map.component.InfoBubbles,Statics:{Bubble:new ovi.Class({Extends:nokia.maps.util.OObject,initialize:function(c){var d=this;d._super(c);d.addObserver("xAlignment",f);d.addObserver("yAlignment",f);d.addObserver("coordinate",
g);d.node=b(d.node);d.node.setAttribute("aria-hidden","true");d.node.setAttribute("tabindex","0");d.node.bubble=d;d.contentNode=n("nm_bubble_content",d.node);d.ng=function(){d.close();d.nm()};d.Fb=b(n("nm_bubble_control_close",d.node));d.Fb.addListener(a,d.ng);d.Sp=n("nm_bubble_tail",d.node);d.Oe="initialized";d.Eg=!1;d.La=!1},open:function(a){this.Eg&&e("The info bubble ["+this.id+"] is already destroyed.");if(!this.La)this.La=!0,a&&this.set("coordinate",a),this.coordinate||e("The info bubble ["+
this.id+"] has no coordinate set."),this.Ud&&(typeof this.Ud=="function"?this.Ud(this.Fb):this.Fb.parentNode.removeChild(this.Fb)),this.node.setAttribute("aria-hidden","false"),this.Oe="opened",this.qi(),this.hc(),this.im()},close:function(){if(this.La)this.La=!1,this.node.setAttribute("aria-hidden","true"),this.gm(),this.Qa();this.Oe="closed"},Qa:function(){this.Eg=!0;this.Fb.removeListener(a,this.ng);this.node.parentNode.removeChild(this.node);delete this.node},update:function(a,b){a&&this.Ym(a);
b&&this.set("coordinate",b);this.qi();this.hc()},isVisible:function(){return this.Fn},getState:function(){return this.Oe},qi:function(){if(this.La&&this.Qg()){var a,b=this.node.style,c=this.defaultWidth,d=this.defaultHeight;b.whiteSpace="nowrap";b.width="";if(c!=="auto"&&(b.whiteSpace="normal",a=this.node.offsetWidth,a<=c))b.width=c+"px";b.height="";if(d!=="auto"&&(b.whiteSpace="normal",a=this.node.offsetHeight,a<=d))b.height=d+"px"}},hc:function(){if(this.La){var a=this.Qg(),b=a.width,c=a.height,
d=a.padding,a=a.geoToPixel(this.coordinate),e=this.node,f=e.style,g=e.offsetWidth+k.x/2,h=e.offsetHeight+k.y/2,j=this.xAlignment,l=this.yAlignment,n="nm_infoBubble nm_align",m={};j!=="right"&&j!=="left"&&(j="right");l!=="above"&&j!=="below"&&(l="below");var p={};p.left=g-d.left<a.x;p.right=g-d.right<b-a.x;p.above=h-d.top<a.y;p.below=h-d.bottom<c-a.y;j==="right"&&!p.right&&p.left?j="left":j==="left"&&!p.left&&p.right&&(j="right");l==="above"&&!p.above&&p.below?l="below":l==="below"&&!p.below&&p.above&&
(l="above");j==="right"?(f.right="auto",f.left=a.x+"px",m.x=a.x):(f.left="auto",f.right=b-a.x+"px",m.x=a.x-g);l==="below"?(f.bottom="auto",f.top=a.y+"px",m.y=a.y):(f.top="auto",f.bottom=c-a.y+"px",m.y=a.y-h);this.Fn=m.x+g>0&&m.y+h>0&&m.x<=b&&m.y<=c;n+=j==="left"?"Left":"Right";n+=l==="above"?"Above":"Below";e.className=n;this.xAlign!==j&&this.set("xAlignment",j);this.yAlign!==l&&this.set("yAlignment",l);if(this.fm!==n)this.fm=n,this.Vq(j,l)}},Vq:function(a,b){var c=this.Sp,e=c.style,f=this.xAlignment,
g=this.yAlignment,h=d?m:k;c.innerHTML="";e.left=f=="right"?"-"+h.x/2+"px":"auto";e.right=f=="left"?(d?"":"-")+h.x/2+"px":"auto";e.top=g=="below"?"-"+h.y/2+"px":"auto";e.bottom=g=="above"?(d?"":"-")+h.y/2+"px":"auto";c.appendChild(this.Ro(a,b))},coordinateSetter:function(a){return nokia.maps.geo.Coordinate.fromObject(a)},Ym:function(a){typeof a=="string"?this.contentNode.innerHTML=a:typeof a=="object"&&a.nodeType===1&&typeof a.nodeName=="string"?this.contentNode.appendChild(a):e("The content of info bubble ["+
this.id+"] has to be a string or a HTML element")},xAlignmentSetter:function(a){a!=="right"&&a!="left"&&e("The value of xAlignment property must be either 'left' or 'right'");return a},yAlignmentSetter:function(a){a!=="above"&&a!="below"&&e("The value of yAlignment property must be either 'above' or 'below'");return a}})},initialize:function(){this._super();this.yc={};this.openBubbleHandles=new nokia.maps.util.OList},Hl:0,isCloning:!0,build:function(){var a=this;a._super("nm_infoBubble");a.Ff={};
nokia.maps.dom.mo(this.findElement("nm_bubble_tail"),function(b,c){var d=new nokia.maps.ui.nokia_generic.GfxTemplate(c);a.Ff.rightbelow=(new nokia.maps.gfx.GraphicsImage(d.stencil(1,0,0))).createElement();a.Ff.rightabove=(new nokia.maps.gfx.GraphicsImage(d.stencil(1,0,2))).createElement();a.Ff.leftbelow=(new nokia.maps.gfx.GraphicsImage(d.stencil(1,0,1))).createElement();a.Ff.leftabove=(new nokia.maps.gfx.GraphicsImage(d.stencil(1,0,3))).createElement()})},detach:function(a){for(var b in this.yc)this.yc[b].close(!0);
this._super(a)},showBubble:function(a,b,c,d){return this.openBubble(a,b,c,d)},openBubble:function(a,b,c,d){c=this.initBubble(c,d);c.update(a,b);c.open();return c},createBubble:function(a,b){return this.initBubble(a,b)},initBubble:function(a,b){var c=this,d=c.options,d=new p.Bubble({id:c.Hl++,node:h.dom.cloneNode(c.node,!0),La:!1,gm:function(){c.openBubbleHandles.remove(this)},im:function(){c.options.autoClose&&c.closeAll();c.openBubbleHandles.add(this)},Qg:function(){return c.mapDisplay},nm:a||nokia.maps.util.u,
Ro:function(a,b){return nokia.maps.dom.cloneNode(c.Ff[a+b],!0)},Ud:b,defaultWidth:d.defaultWidth,defaultHeight:d.defaultHeight,xAlignment:d.defaultXAlignment,yAlignment:d.defaultYAlignment});c.yc[d.id]=d;c.mapDisplay.db.appendChild(d.node);return d},updateBubble:function(a,b,c){a.update(b,c)},closeBubble:function(a){a.close()},closeAll:function(){for(var a=this.openBubbleHandles.getLength();a--;)this.openBubbleHandles.get(a).close()},kl:j.u,ll:j.u,show:j.u,hide:j.u,kh:function(){var a,b=this.yc;for(a in b)b[a].hc()}});
h.map.component.InfoBubbles=c.InfoBubbleComponent})(nokia.maps);ovi.provide("nokia.maps.map.component.ScaleBar");
(function(h){h.map.component.ScaleBar=new ovi.Class({Extends:h.ui.UIComponent,d:"ScaleBar",n:"0.0.0.1",attach:function(g){this._super(g);this.updateScale&&this.mapDisplay.addObserver("zoomLevel",this.updateScale,this).addObserver("center",this.updateScale,this).addObserver("copyrightWidth",this.updateScale,this)},detach:function(g){this.updateScale&&this.mapDisplay.removeObserver("zoomLevel",this.updateScale,this).removeObserver("center",this.updateScale,this).removeObserver("copyrightWidth",this.updateScale,
this);this._super(g)},showImperialUnits:!1,showImperialUnitsSetter:function(g){this.switchUnit(g);return g},calculateMPP:function(){var g;g=this.mapDisplay;var f=g.o.offsetHeight,c;h.map.plugin&&h.map.plugin.npapi&&g instanceof h.map.plugin.npapi.Display?g=g.zoomScale/100:g.geoToPixel({latitude:90,longitude:0}).y<0&&g.geoToPixel({latitude:-90,longitude:0}).y>f?g=g.pixelToGeo(0,f/2).distance(g.pixelToGeo(1,f/2)):(f=new h.geo.Coordinate(0,0),c=g.geoToPixel(f),g=g.pixelToGeo(c.x+1,c.y).distance(f));
return g}})})(nokia.maps);ovi.provide("nokia.maps.ui.nokia_generic.PositioningComponent");
(function(h){var g=h.ui.nokia_generic,f=h.dom.EventTarget,c=g.UIComponent.EVENT_CLICK,a=g.ColorSet,j=new g.ColorScheme({normal:new a({stroke:"#333",fill:"#333"}),disable:new a({stroke:"#D6D6D6",fill:"#D6D6D6"}),focus:new a({stroke:"#333",fill:"#00BBDC"}),active:new a({stroke:"#FFF",fill:"#FFF"})}),b=new g.ColorScheme({normal:new a({stroke:"#333",fill:"#00BBDC"}),focus:new a({stroke:"#333",fill:"#333"}),active:new a({stroke:"#FFF",fill:"#FFF"})}),e=new g.ColorScheme({normal:new a({stroke:"#0099BB",
fill:"#0099BB"}),focus:new a({stroke:"#333",fill:"#333"}),active:new a({stroke:"#333",fill:"#333"})});g.PositioningComponent=new ovi.Class({Extends:h.positioning.component.Positioning,build:function(){this._super("nm_positioningWrap");this.Ga=f(this.node);this.Dk=f(this.findElement("nm_pos_icon_normal"),this.Ga);this.Ek=f(this.findElement("nm_pos_icon_pressed"),this.Ga);this.Ck=f(this.findElement("nm_pos_icon_busy"),this.Ga);this.yh=ovi.bind(this,this.yh)},attach:function(a){this._super(a);a=this.Ga;
this.initGraphics(this.Dk,j);this.initGraphics(this.Ek,b);this.initGraphics(this.Ck,e);h.positioning.Manager?(a.addListener(c,this.yh),this.Ze(this.Dk,this.Ek,this.Ck)):(this.setAria("disabled",!0,a),this.setGraphics("positioning_normal","disable"));this.set("conceal",!1)},detach:function(a){nokia.maps.positioning.Manager&&this.Ga.removeListener(c,this.yh);this.Fg(this.Dk,this.Ek,this.Ck);this._super(a)},yh:function(){var a=this,b=a.Ga;a.getAria("pressed",b)?(a.removeCircle(),a.setAria("pressed",
!1,b)):(a.setAria("pressed",!0,b),a.setAria("busy",!0,b),a.Un={pen:{strokeColor:"#00BBDC",lineWidth:2},brush:{color:"#FFFFFF99"}},a.requestPosition(function(){a.setAria("busy",!1,b)},function(){setTimeout(function(){a.setAria("pressed",!1,b);a.setAria("busy",!1,b)},8E3)}))},xb:function(a){!this.getAria("disabled",this.node)&&a.nativeEvent.keyCode===13&&this.yh()}});h.positioning.component.Positioning=g.PositioningComponent})(nokia.maps);ovi.provide("nokia.maps.ui.nokia_generic.ScaleBarComponent");
(function(h){var g=h.ui.nokia_generic,f=h.gfx,c=h.dom.EventTarget,a=g.UIComponent,j=a.EVENT_CLICK,b=a.EVENT_OVER,e=a.EVENT_OUT,l=a.EVENT_FOCUS,d=a.EVENT_BLUR,n=a.CSS_GFX,k=100,m=Math,p=m.floor,r=f.GraphicsImage,q=f.Color.parseCss,f=g.ColorSet,u=new g.ColorScheme({normal:new f({stroke:"#DDD",fill:"#000"}),focus:new f({stroke:"#FFF",fill:"#0bd"})}),s=g.ScaleBarComponent=new ovi.Class({Extends:h.map.component.ScaleBar,Statics:{ik:0.3048006,Qf:1609.344},build:function(){var a=ovi.bind;this._super("nm_scalebarWrap");
this.Ga=this.node;this.Rq=this.rc=c(this.findElement("nm_scaleBarExpandableElement"));this.Re=this.findElement("nm_scalebarUnitinfo");this.Up=this.findElement("nm_scalebarTextTester");this.Zp=this.Re.innerHTML;this.Up.style.font="bold 10px Arial";this.Se=a(this,this.Ef);this.rb=a(this,this.rb);this.qb=a(this,this.qb);this.qa=a(this,this.qa);this.yg=u.normal;this.ai=null;this.onLanguageChange()},attach:function(a){this._super(a);a=this.rc;this.mapDisplay.addListener("mapviewchangeend",this.qa);a.addListener(j,
this.Se);a.addListener(b,this.rb);a.addListener(e,this.qb);a.addListener(l,this.rb);a.addListener(d,this.qb);this.show();this.qa();this.set("conceal",!1)},detach:function(a){var c=this.rc;this.mapDisplay.removeListener("mapviewchangeend",this.qa);c.removeListener(j,this.Se);c.removeListener(b,this.rb);c.removeListener(e,this.qb);c.removeListener(l,this.rb);c.removeListener(d,this.qb);this.mp();this.ai=null;this._super(a);this.hide();this.set("conceal",!0)},show:function(){this._super()},Q:function(){this.setCursorPointer();
this.yg=u.focus;this.qa()},P:function(){this.setCursorDefault();this.yg=u.normal;this.qa()},xb:function(a){a.nativeEvent.keyCode===13&&this.Ef(a)},Ef:function(a){a&&(a.preventDefault(),a.stopPropagation());this.yg=u.normal;this.set("showImperialUnits",!this.ra)},switchUnit:function(a){(this.ra=a)?(ovi.dom.removeClass(this.rc,"nm_metric"),ovi.dom.addClass(this.rc,"nm_imperial")):(ovi.dom.removeClass(this.rc,"nm_imperial"),ovi.dom.addClass(this.rc,"nm_metric"));this.qa()},rb:function(a){if(this.isMouseover(a))this.Q(),
this.node.title=this.translate("ovi.service.map._"+(this.ra?"t30":"t29"))},qb:function(a){this.isMouseout(a)&&this.P()},qa:function(){var a=this.calculateMPP();if(this.Gq!=a)this.Fq=a,this.calculateDistance(a),this.Wq(p(this.$h/this.al*k),this.$h)},Wq:function(a,b){function c(a,b){a.beginPath();a.moveTo(2,8);a.lineTo(2,16);a.lineTo(b-2,16);a.lineTo(b-2,8);a.lineTo(b-4,8);a.lineTo(b-4,14);a.lineTo(4,14);a.lineTo(4,8);a.lineTo(2,8);a.closePath();return a}var d=this,e=b+" "+d.bl,f=new r(function(b){var f=
a+4+2,g=f+2,h=d.Up,j=0;h.innerHTML=e;j=g-h.offsetWidth-4-2-2;b.beginImage(g,20,"ScaleBar");d.Ga.style.width=g+"px";d.Ga.style.height="20px";b.set("strokeColor",q(d.yg.stroke));b.set("fillColor",q(d.yg.fill));b.set("lineWidth",2.5);b.set("lineJoin","round");b.set("font","bold 10px Arial");b.strokeText(e,j+0.5,10);b.fillText(e,j,10);b.set("lineWidth",4);b=c(b,f);b.stroke();b.set("lineWidth",0);b=c(b,f);b.fill()});d.mp();d.ai=f.createElement();d.ai.className=n;d.Rq.appendChild(d.ai)},mp:function(){var a=
this.ai;a&&a.parentNode&&a.parentNode.removeChild(a)},calculateDistance:function(a){a*=k;var b;this.ra?a<s.Qf?(a/=s.ik,b=this.translate("ovi.service.map._t23")):(a/=s.Qf,b=this.translate("ovi.service.map._t24")):a<1E3?b=this.translate("ovi.service.map._t25"):(a/=1E3,b=this.translate("ovi.service.map._t26"));this.bl=b;this.al=a;b=m.pow(10,p(m.log(a)/m.LN10));a>=5*b?b*=5:a>=2*b&&(b*=2);this.$h=b},onLanguageChange:function(){k=h.language.Info.language.iso639_1=="zh"?140:100}});h.map.component.ScaleBar=
g.ScaleBarComponent})(nokia.maps);ovi.provide("nokia.maps.map.component.DistanceMeasurement");
(function(h){var g=h.dom.Page,f=g.browser.touch,c=f?"touch":"mouse",a=f?"tap":"click",j=f?"dbltap":"dblclick",b=c+"enter",e=c+"leave",l=new ovi.Class({Extends:h.map.Marker,initialize:function(a,b){b=b||{};b.draggable=!0;this._super(a,b)}});h.map.component.DistanceMeasurement=new ovi.Class({Extends:h.map.component.Component,initialize:function(a){this._super(a);this.clickListener=ovi.bind(this,this.clickListener);this.dragListener=ovi.bind(this,this.dragListener);this.dragStartListener=ovi.bind(this,
this.dragStartListener);this.enterListener=ovi.bind(this,this.enterListener);this.leaveListener=ovi.bind(this,this.leaveListener);this.dblClickListener=ovi.bind(this,this.dblClickListener);this.container=new h.map.Container},d:"DistanceMeasurement",n:"0.0.0.1",container:null,coordinates:new ovi.Array,markers:new ovi.Array,lines:new ovi.Array,labels:void 0,hovered:!1,vc:!1,Pd:0,startMarkerOptions:{},middleMarkerOptions:{},endMarkerOptions:{},normalPen:{strokeColor:"#C22A",lineWidth:6},hoverPen:{strokeColor:"#614A",
lineWidth:8},textLabelOnFirstMarker:!0,attach:function(a){this._super(a)},nd:function(){var c=this.mapDisplay;if(!this.vc)c.addListener(a,this.clickListener),c.addListener("drag",this.dragListener),c.addListener("dragend",this.dragListener,!0),c.addListener("dragstart",this.dragStartListener,!0),c.addListener(b,this.enterListener),c.addListener(e,this.leaveListener),c.addListener(j,this.dblClickListener),this.vc=!0},detach:function(a){this.disable();this.Ld();this._super(a)},Ld:function(){var c=this.mapDisplay;
if(this.vc)c.removeListener(a,this.clickListener),c.removeListener("drag",this.dragListener),c.removeListener("dragend",this.dragListener,!0),c.removeListener("dragstart",this.dragStartListener,!0),c.removeListener(b,this.enterListener),c.removeListener(e,this.leaveListener),c.removeListener(j,this.dblClickListener),this.vc=!1},enable:function(){this.mapDisplay&&(this.mapDisplay.objects.add(this.container),this.nd())},disable:function(){if(this.mapDisplay)this.Ld(),this.mapDisplay.objects.remove(this.container),
this.container.objects.clear(),this.coordinates.length=0,this.markers.length=0,this.lines.length=0,this.labels=void 0,this.hovered=!1,this.updateMap()},addCoordinate:function(a){var b=this.coordinates,c=this.markers,e=this.container.objects,f=b.length,g;b.push(a);f>1&&(g=c.pop(),e.remove(g),g=this.createMarker(c.length,c.length+1,g.coordinate),c.push(g),e.add(g));marker=this.createMarker(c.length,f,a);this.markers.push(marker);this.container.objects.add(marker);f>=1&&this.addLine(b[f-1],b[f]);this.hovered=
!0;this.showLabels()},addLine:function(a,b){var c=this.createLine(a,b);this.lines.push(c);this.container.objects.add(c)},createLine:function(a,b){var c=new h.map.Polyline([a,b],{pen:this.normalPen});c.enableDrag();return c},clickListener:function(a){if(!(a.type=="click"&&a.button!==0)){var b=a.target,c=this.lines.indexOf(b),e=this.markers.indexOf(b),f=this.mapDisplay.pixelToGeo(a.displayX,a.displayY);if(c<0)if(e<0)this.addCoordinate(f),this.hideLabels(),this.showLabels();else{if(g.platform.mac?a.metaKey:
a.ctrlKey)this.hideLabels(),this.removeMarker(b,e),--this.Pd}else b.set("pen",this.normalPen),this.splitLine(b,f,c);this.updateMap()}},dblClickListener:function(){},removeMarker:function(a,b){var c=this.lines,e,f=this.container.objects,g=this.markers.length,h=b===g-1;b>0&&!h&&c[b-1].path.set(1,this.coordinates[b+1]);f.remove(a);f.remove(c[b]);this.coordinates.splice(b,1);this.markers.splice(b,1);c.splice(b,1);if(b===0&&(e=this.markers.shift()))f.remove(e),e=this.createMarker(b,g,e.coordinate),this.markers.unshift(e),
f.add(e);h&&b>1&&(e=this.markers.pop(),f.remove(e),e=this.createMarker(g,g,e.coordinate),this.markers.push(e),f.add(e));h&&this.container.objects.remove(c.pop());this.updateMap()},splitLine:function(a,b,c){var e;this.coordinates.splice(c+1,0,b);e=this.createMarker(c+1,this.markers.length,b);this.markers.splice(c+1,0,e);this.container.objects.add(e);e=a.path.get(1);a.path.set(1,b);a=this.createLine(b,e);this.lines.splice(c+1,0,a);this.container.objects.add(a)},createMarker:function(a,b,c){b=a>=b;return a===
0?new l(c,this.startMarkerOptions):b?new l(c,this.endMarkerOptions):new l(c,this.middleMarkerOptions)},dragListener:function(a){var b=a.target,c,e=this.markers.indexOf(b),f=this.lines;e<0||(c=this.getEventCoordinate(a),this.coordinates[e]=c,b.set("coordinate",c),e>0&&f[e-1].path.set(1,c),e<f.length&&f[e].path.set(0,c),this.isOwnElement(a.target)&&(this.hideLabels(),this.showLabels()),this.updateMap())},dragStartListener:function(a){var b=a.target,c=this.lines,e=this.normalPen,f=this.lines.indexOf(b);
if(f>-1)this.clickListener(a),a.preventDefault(),b.set("pen",e);else if((f=this.markers.indexOf(b))>-1)a.dataTransfer.lift=!1,c[f-1]&&c[f-1].set("pen",e),c[f]&&c[f].set("pen",e)},updateMap:function(){this.mapDisplay.update(0)},getEventCoordinate:function(a){var b=a.target.anchor,c=a.dataTransfer.getData("application/map-drag-object-offset");return this.mapDisplay.pixelToGeo(a.displayX-c.x+b.x,a.displayY-c.y+b.y)},enterListener:function(a){var b=a.target,c=this.lines.indexOf(b);if(this.isOwnElement(a.target))this.Pd++,
this.hovered=!0,this.showLabels();c<0||(b.set("pen",this.hoverPen),this.updateMap())},leaveListener:function(a){var b=this,c=a.target,e=b.lines.indexOf(c);if(b.isOwnElement(a.target)&&!--b.Pd)b.hovered=!1,setTimeout(function(){b.hovered||b.hideLabels()},200);e<0||(c.set("pen",b.normalPen),b.updateMap())},getDistance:function(a){var b=0,c=this.coordinates,a=a===void 0?c.length-1:a;ovi.each(c,function(e,f){f===0||f>a||(b+=e.distance(c[f-1]))});return this.formatLength(b)},getSegmentDistance:function(a){if(a=
this.lines[a])return this.formatLength(a.path.get(0).distance(a.path.get(1)))},isOwnElement:function(a){return a.getParent(this.mapDisplay)==this.container},formatLength:function(a){return a},showLabels:function(){var a=this;if(!(a.labels||a.lines.length===0))a.labels=new ovi.Array,a.markers.map(function(b,c){(a.textLabelOnFirstMarker||c>0)&&a.labels.push(a.createLabel(b.coordinate,a.getDistance(c),!1))}),a.lines.map(function(b,c){a.labels.push(a.createLabel(b.getBoundingBox().getCenter(),a.getSegmentDistance(c),
!0))}),a.container.objects.addAll(a.labels),a.updateMap()},hideLabels:function(){var a=this;if(a.labels)a.labels.map(function(b){a.container.objects.remove(b)}),a.labels=void 0,a.updateMap()},createLabel:function(a,b,c){var e=(b+"").length*9,f={x:-11,y:8};c&&(f={x:e*0.4,y:8});return new h.map.Marker(a,{icon:new h.gfx.GraphicsImage(function(a){a.beginImage(e,15);a.set("font","12px sans-serif");a.set("strokeColor",h.gfx.Color.parseCss("white"));a.set("lineWidth",4);a.strokeText(b,2,12);a.fillText(b,
2,12)}),anchor:f,zIndex:100,width:e,height:15})}})})(nokia.maps);ovi.provide("nokia.maps.ui.nokia_generic.DistanceMeasurement");
(function(h){var g=h.ui.nokia_generic,f=h.map.component.DistanceMeasurement,c=h.dom.EventTarget,a=g.UIComponent,j=a.EVENT_CLICK,b={icon:new h.gfx.GraphicsImage(function(a){a.beginImage(22,22);a.set("fillColor","#661144");a.drawEllipse(0,0,22,22);a.fill();a.set("fillColor","#ffffff");a.drawEllipse(5,5,12,12);a.fill()}),anchor:new nokia.maps.util.Point(11,11)},h=g.ColorSet,e=new g.ColorScheme({normal:new h({stroke:"#333",fill:"#00BBDC"}),focus:new h({stroke:"#333",fill:"#333"}),active:new h({stroke:"#FFF",
fill:"#FFF"})});g.DistanceMeasurement=new ovi.Class({Extends:a,initialize:function(a){this._super(a);a=a||{};a.startMarkerOptions=b;a.middleMarkerOptions=b;a.endMarkerOptions=b;a.normalPen=a.normalPen||{};a.normalPen.strokeColor="614A";a.normalPen.lineWidth=6;a.hoverPen=a.hoverPen||{};a.hoverPen.strokeColor="614F";a.hoverPen.lineWidth=8;a.textLabelOnFirstMarker=!1;this.Jb=new f(a);this.Jb.formatLength=ovi.bind(this,this.sl)},Jb:null,Od:!1,ra:!1,build:function(){this._super("nm_rulerWrap");this.M=
c(this.node);this.ij=c(this.findElement("nm_rulerButton_icon_normal"));this.gp=c(this.findElement("nm_rulerButton_icon_pressed"));this.Ba=ovi.bind(this,this.Ba);this.hide();this.setAria("pressed","false",this.node)},attach:function(a){this._super(a);button=this.M;scalebar=a.getComponentById("ScaleBar");normal=this.ij;pressed=this.gp;this.initGraphics(normal,"default");this.initGraphics(pressed,e);this.Ze(normal,pressed);button.addListener(j,this.Ba);this.Jb.attach(a);if(scalebar)this.ra=scalebar.showImperialUnit,
this.$c(scalebar,1);a.components.addObserver(this.pg,this);this.set("conceal",0)},detach:function(a){var b=this.M,c=a.getComponentById("ScaleBar");this.Ze(this.ij,this.gp);b.removeListener(j,this.Ba);this._super(a);this.Jb.detach(a);c&&this.$c(c,0);a.components.removeObserver(this.pg,this);this.set("conceal",0)},pg:function(a,b,c){c.getId()==="ScaleBar"&&(b=="add"?this.$c(c,1):this.$c(c,0))},$c:function(a,b){a[(b?"add":"remove")+"Observer"]("showImperialUnits",this.Kk,this)},Kk:function(a,b,c){if(b==
"showImperialUnits")this.ra=c},Ba:function(){var a=this.Jb;this.Od?(a.disable(),this.Od=0,this.setAria("pressed","false",this.node)):(a.enable(),this.Od=1,this.setAria("pressed","true",this.node))},xb:function(a){a.nativeEvent.keyCode===13&&this.Ba()},sl:function(a){var b=0;this.ra?a<1609.344?(a/=0.3048006,unitStr=this.translate("ovi.service.map._t23"),b=1):(a/=1609.344,unitStr=this.translate("ovi.service.map._t24")):a<1E3?(unitStr=this.translate("ovi.service.map._t25"),b=1):(a/=1E3,unitStr=this.translate("ovi.service.map._t26"));
a=Math.round(a*10)/10;b&&(a=Math.round(a));a+=" "+unitStr;return a}});nokia.maps.map.component.DistanceMeasurement=nokia.maps.ui.nokia_generic.DistanceMeasurement})(nokia.maps);ovi.provide("nokia.maps.ui._packaging.package-nokia_generic");})();